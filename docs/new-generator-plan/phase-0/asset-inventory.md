# 既存資産棚卸しレポート（フェーズ0成果物）

フェーズ0で把握した libx-dev 資産の一覧と再利用・移行方針。  
評価軸: ✅=再利用予定、♻️=要改善の上再利用、🗃️=アーカイブ/参考、❌=廃止検討。

## 1. パッケージ資産
| パッケージ | 評価 | 主な内容 | コメント / 対応方針 |
| --- | --- | --- | --- |
| `@docs/ui` | ♻️ | Astro コンポーネント（Sidebar, Tabs, Alert, Icons 等） | 公開 API 再編、内部参照（`components/icons/Icons` 等）の整理、DOM 依存スクリプトの動作確認が必要。npm 公開を前提に整備。 |
| `@docs/theme` | ♻️ | カラー/タイポグラフィ/Spacing/CSS 変数 | CSS 変数と UI 側の統合を進め、未使用 JS ユーティリティの整理。npm 配布とサブモジュール案を並行検証。 |
| `@docs/i18n` | ✅ | ロケール JSON と翻訳ユーティリティ | 翻訳ステータス管理を追加検討。CLI から利用する想定。 |
| `@docs/versioning` | ♻️ | VersionSelector, VersionDiff, バージョンユーティリティ | `Date` 型整合性の改善、レジストリと連携する API に更新。npm 公開に向けた API 固定化が必要。 |
| `@docs/search` (設定上存在) | ❌ | 実体なし | alias のみ残存。新ジェネレーターでは削除。 |

## 2. アプリ資産
| アプリ | 評価 | 主な役割 | コメント / 対応方針 |
| --- | --- | --- | --- |
| `apps/sample-docs` | 🗃️ | 代表的なドキュメントサイト | コンテンツ・レイアウト構造を移行元サンプルとして活用。 |
| `apps/top-page` | ♻️ | プロジェクト一覧ランディング | コンポーネントとプロジェクトカード表示ロジックを再設計し、レジストリ生成に置き換え。 |
| `apps/project-template` | 🗃️ | 新規プロジェクト用テンプレート | CLI から生成するテンプレートの元データとして再利用予定。 |
| `apps/test-verification` | 🗃️ | テスト向け最小構成 | レジストリ移行後の E2E 確認に使用。 |
| `apps/libx-docs` | 🗃️ | libx-docs 同期対象 | 移行ツール検証用コンテンツ。新ジェネレーターでは直接参照しない。 |

## 3. スクリプト資産
| スクリプト群 | 評価 | 内容 | コメント / 対応方針 |
| --- | --- | --- | --- |
| `create-*/add-language` 系 | ♻️ | プロジェクト/言語/ドキュメント追加自動化 | CLI へ機能移植。バックアップ/ロールバック挙動を踏襲。 |
| `build-*` 系 | ❌ | モノレポ統合ビルド | 単一ビルドパイプライン実装後は不要。ロジックは参考に留める。 |
| `sync-content`, `validate-content`, `sync-utils` | ♻️ | libx-docs 同期、構造検証 | レジストリスキーマ設計の参照。移行ツールに再構成。 |
| `copy-to-libx-core`, `sync-to-libx-core` | 🗃️ | コアリポジトリ同期 | 新体制では役割縮小。将来の分割を想定しラッパー化検討。 |
| `copy-to-docs`, `start_server.sh` | ❌ | ビルド成果物コピー、ローカル HTTP | 単一ビルドに統合。必要なら開発サーバーは `pnpm dev` へ一本化。 |
| `plugins/remark-link-transformer` | ✅ | MDX リンク変換 | Astro/Starlight 互換のプラグインとして再利用。 |

## 4. 設定・スキーマ資産
| ファイル | 評価 | 内容 | コメント / 対応方針 |
| --- | --- | --- | --- |
| `project.config.json` | ♻️ | プロジェクト設定（多言語、バージョン、カテゴリ） | レジストリ移行時のマッピング元。番号付きカテゴリ→IDベースに変換。 |
| `apps/top-page/src/config/projects.config.json` | ♻️ | トップページ表示設定 | レジストリ `projects` 情報から生成する形に変更。 |
| `docs/LICENSE_GUIDELINES.md` | ✅ | ライセンス対応方針 | レジストリ `licenses` 定義のベース資料として維持。 |
| `docs/PROJECT_PRINCIPLES.md` | 🗃️ | 旧リポジトリ開発原則 | 新原則ドキュメントへの参照として保持。 |
| `schemas/libx-docs-config.schema.json` | 🗃️ | 旧コンフィグスキーマ | JSON Schema 設計の参考。新スキーマはフェーズ1で再作成。 |

## 5. コンテンツ資産
- **MDX**: `apps/*/src/content/docs/**` に番号付きパスで保存。  
  - 移行ツールで `docId` ベースのディレクトリ構造へ変換予定。  
  - Frontmatter 情報（`sidebar`, `order` 等）はレジストリへ移行し、MDX は本文中心に。
- **翻訳メタ**: 手動管理。レジストリに `status`, `lastUpdated`, `reviewer` などのフィールドを追加する計画。

## 6. 外部依存資産
- **libx-docs リポジトリ**: コンテンツ同期対象。移行完了後は「ソースコンテンツ置き場」として継続運用するか要判断。  
- **libx-core リポジトリ**: 共有パッケージ抽出後の受け皿。抽出した UI/テーマを npm に公開する場合は役割縮小。  
- **Cloudflare Pages**: デプロイ先として継続利用。ビルドコマンド・環境変数の整理が必要。

## 7. リスクとアクション
- UI/テーマ整理に工数がかかる → フェーズ1〜2 で優先度付けし、最小限の UI から抽出。  
- スクリプトの再実装コスト → CLI 設計時に既存ロジック（バックアップ、バリデーション）の再利用を検討。  
- 旧コンテンツの命名／構造不整合 → 移行ツールで差分レポートを生成し、手動修正箇所を明確化。  
- libx-docs との同期方針未決 → フェーズ3 で意思決定し、継続同期か移行完了か整理。
