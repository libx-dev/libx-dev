# 新ドキュメントサイトジェネレーター計画ハブ

このディレクトリは、新ドキュメントサイトジェネレーターの計画・設計・実行状況を集約するハブです。フェーズの進行状況、意思決定、詳細タスク、リサーチ結果を把握しやすい形で整理しています。

---

## 1. 概要
- **全体像**: `docs/NEW_GENERATOR_PLAN.md`（初期草案）と `docs/new-generator-plan/OVERVIEW.md`（最新構造）を参照してください。
- **開発原則**: `docs/new-generator-plan/PROJECT_PRINCIPLES.md` に、新ジェネレーター開発の基本姿勢とルールをまとめています。
- **意思決定ログ**: `docs/new-generator-plan/DECISIONS.md` に、合意済みの方針と日付・理由を記録しています。

---

## 2. フェーズ構成
フェーズ毎の概要とタスク詳細は以下のファイルにまとめています。`*-0-` が全体方針、`*-1-` 以降がタスクブレークダウンです。

| フェーズ | 説明 | 概要 | 詳細タスク | ステータス |
|---------|------|------|------------|-----------|
| フェーズ0 | 要件定義と資産棚卸し | `phase-0-inception.md` | `phase-0/` 配下に成果物 | - |
| フェーズ1 | レジストリ/CLI/テスト基盤 | `phase-1-0-foundation.md` | `phase-1-1-...` 〜 `phase-1-5-...` | ✅ 完了 |
| フェーズ2-1 | ランタイム/ジェネレーター | `phase-2-1-runtime-generator.md` | サイドバー・サイトマップ・メタデータ生成 | ✅ 完了 |
| フェーズ2-2 | UI/テーマ統合 | `phase-2-2-ui-theme.md` | Astroページ・レイアウト実装 | ✅ 完了 |
| フェーズ2-3 | コンテンツ統合 | `phase-2-3-search.md` | MDX読み込み・既存UI統合・検索機能 | ✅ 完了 |
| フェーズ2-4 | パフォーマンス・アクセシビリティ | `phase-2-4-build-pipeline.md` | 最適化・検索強化・Lighthouseテスト | ✅ 完了 |
| フェーズ2-5 | 共有パッケージ検証 | `phase-2-5-shared-packages.md` | ビルド設定・型定義・リリースフロー設計 | 📝 準備完了 |
| フェーズ2 | Astro ビルドと UI 統合 | `phase-2-0-build.md` | `phase-2-1-...` 〜 `phase-2-6-...` | ✅ 完了 |
| フェーズ3 | 既存資産移行と CI 整備 | `phase-3-0-migration.md` | `phase-3-1-...` 〜 `phase-3-6-...` | - |
| フェーズ4 | QA・リリース準備 | `phase-4-0-release.md` | `phase-4-1-...` 〜 `phase-4-4-...` | - |
| フェーズ5 | リリース後の継続改善 | `phase-5-0-ongoing.md` | `phase-5-1-...` 〜 `phase-5-5-...` | - |

各詳細ファイルには、目的・スコープ・タスク・成果物・完了条件が記載されています。

---

## 3. リサーチメモ
最新の調査結果や分析は `research/` 配下に集約されています。
- `scripts-and-automation.md`: 既存スクリプトと自動化基盤の調査
- `ui-theme-assessment.md`: UI／テーマ資産の評価
- `competitive-landscape.md`: 競合ツールと市場動向

---

## 3-1. ガイドドキュメント（Phase 2成果物）

### 共有パッケージ
- **[共有パッケージ利用ガイド](guides/shared-packages.md)** (約650行)
  - パッケージ一覧と概要
  - インストール方法（モノレポ内・npm公開時）
  - 各パッケージの詳細説明と使用例
  - ビルド設定、トラブルシューティング
  - 完全なドキュメントページの実装例

- **[リリースフローガイド](guides/release-flow.md)** (約380行)
  - Changesetsによるバージョン管理
  - リリーススクリプトの使用方法
  - GitHub Actions設定
  - npm公開手順

### ビルド・デプロイ
- **[ビルドシステム概要](../packages/generator/README.md)**
  - レジストリ駆動のルーティング
  - サイドバー・サイトマップ生成
  - API仕様と使用例

### UI・テーマ
- **[UIコンポーネントガイド](../packages/ui/README.md)** (約600行)
  - 30+のAstroコンポーネント一覧
  - Starlightスタイルの説明
  - アクセシビリティ対応
  - コンポーネント使用例

- **[テーマシステムガイド](../packages/theme/README.md)** (約600行)
  - デザイントークン詳細
  - CSS変数とTypeScript型サポート
  - カラーパレット、タイポグラフィ、スペーシング
  - レスポンシブ・ダークモード対応

- **[国際化ガイド](../packages/i18n/README.md)** (約500行)
  - 15言語サポート
  - 言語検出、翻訳ヘルパー、パス変換
  - ライセンステンプレート機能
  - 翻訳ファイル管理

- **[バージョン管理ガイド](../packages/versioning/README.md)** (約550行)
  - VersionSelector、VersionDiffコンポーネント
  - バージョン比較・ソート機能
  - 差分計算・ページネーション

### デモ・資料
- **[デモサイトウォークスルー](demos/walkthrough.md)**
  - Phase 2の成果を視覚的に示すガイド
  - 主要機能の実演（ナビゲーション、検索、バージョン切り替え、言語切り替え、レスポンシブデザイン）
  - 共有パッケージの活用例
  - パフォーマンス指標（Lighthouse全スコア目標達成）

- **[アーキテクチャ図](architecture.md)**
  - システム全体図（Mermaid）
  - データフロー、パッケージ構成
  - コンポーネント関連図、ビルドパイプライン
  - 技術スタック詳細

- **[レビューチェックリスト](demos/review-checklist.md)**
  - UI/UX、パフォーマンス、アクセシビリティ、多言語対応、コンテンツ構造の評価項目
  - 優先度別改善提案テンプレート

- **[フィードバックフォームテンプレート](demos/feedback-form-template.md)**
  - Google Forms/TypeForm用の項目定義
  - フィードバック集計方法
  - Issue化フロー

- **[GitHubラベル定義とIssueテンプレート](demos/github-labels-and-issues.md)**
  - フェーズ/優先度/カテゴリ/ステータスラベル
  - フィードバックからのIssue化テンプレート
  - Issue管理フロー、優先度判定基準

### 技術レポート
- **[Phase 2-5依存関係レポート](status/phase-2-5-dependencies-report.md)** (約800行)
  - peerDependencies整理
  - Astro ^5.0.0統一
  - 依存関係チェック結果

- **[Phase 2-5配布戦略決定レポート](status/phase-2-5-distribution-strategy.md)** (約1,200行)
  - npm vs Gitサブモジュール vs モノレポ内配布の詳細比較
  - 段階的配布戦略（短期・中期・長期）

- **[Phase 2-5互換性検証レポート](status/phase-2-5-compatibility-report.md)** (約600行)
  - テストプロジェクト作成・実行
  - 統合テスト成功率100%
  - Breaking Change検出: なし

---

## 4. 進捗とステータス
フェーズごとの進捗、課題、リスクは `status/` ディレクトリに週次で記録します（`status/README.md` を参照）。  
運用フロー:

1. フェーズタスク着手 → 対応する詳細ファイルを参照／更新  
2. 進捗・課題 → `status/weekly-YYYYMM.md` を作成し、`status/templates/weekly-report.md` を利用して更新  
3. 重要な決定 → `DECISIONS.md` に記録

---

## 5. 利用ガイド
- **新規着手時**: `OVERVIEW.md` を読み、該当フェーズの `*-0-` ファイル → `*-X-` 詳細タスクの順に目を通します。
- **タスク割り当て**: 詳細ファイルに沿って Issue化／スケジュール化します。
- **レビュー**: 各成果物は対応する詳細ファイル末尾の完了条件を満たしたらレビュー依頼を行います。
- **ドキュメント更新**: 変更があれば関連ガイド（`guides/`）やテンプレートを更新し、`DECISIONS.md` へ記録します。

---

## 6. 連絡・承認フロー
- コミュニケーション計画: `phase-0/communication-plan.md`
- フェーズ完了時: `phase-0/phase-0-summary.md` などのサマリファイルに承認コメントを残し、次フェーズへ進みます。
- 緊急対応／未決事項は Issue として起票し、 `DECISIONS.md` に反映します。

---

## 7. 今後の更新予定
- `status/` ディレクトリのテンプレート整備
- ガイド (`docs/new-generator-plan/guides/`) およびテンプレート (`templates/`) 追加
- フェーズ進行に合わせた README の更新（更新履歴は本ファイル末尾に追記します）

---

### 更新履歴
- 2025-10-20: **Phase 2-6資料作成完了**（ウォークスルー、アーキテクチャ図、レビューチェックリスト、フィードバックフォーム、GitHubラベル定義、ガイドリンク集）
- 2025-10-19: **Phase 2-5引き継ぎドキュメント作成完了**（1144行の詳細ガイド、ビルド設定テンプレート、Changesets設定例、npm vs Gitサブモジュール比較表を含む）
- 2025-10-19: **Phase 2-4完了**（パフォーマンス最適化・アクセシビリティ向上・検索機能強化完了、Lighthouse全目標達成）
- 2025-10-19: **Phase 2完了**（AstroビルドとUI統合完了）
- 2025-10-19: Phase 2-3完了（MDXコンテンツ統合・検索機能統合成功）
- 2025-10-18: Phase 2-2完了、Phase 2-3ステータスを追加
- 2024-XX-XX: README 初版作成（概要、フェーズ一覧、進捗更新フローを追加）
