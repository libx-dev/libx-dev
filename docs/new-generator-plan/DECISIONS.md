# 決定事項ログ

フェーズ0までに合意された主要な意思決定を記録します。新しい決定は追記し、参照した文書や目的を明示してください。

## 2024-XX-XX 新ジェネレーター基盤に関する合意

1. **レジストリ構造の扱い**  
   - 初期版は単一 JSON で構成し、プロジェクト単位の分割はフェーズ1終盤に再評価する。  
   - 根拠: フェーズ0 要件ブリーフ / registry-metadata。シンプルなソース・オブ・トゥルース維持と原則4（コンテンツ運用）との整合。

2. **検索エンジン方針**  
   - 初期実装は Pagefind を標準とし、Algolia 等の外部サービスはフェーズ2以降の拡張候補として比較検証する。  
   - 根拠: 競合調査、原則5（自動化と品質保証）。

3. **libx-docs リポジトリの取り扱い**  
   - 移行期間中はソース置き場として維持し、フェーズ3完了時に継続是非を見直すマイルストーンを設定する。  
   - 根拠: asset-inventory、原則6（コラボレーションとナレッジ共有）。

4. **共有パッケージ配布形態**  
   - 第一候補は npm 公開可能なパッケージ化。移行期間中は Git サブモジュール活用もバックアップ案として保持し、フェーズ1で PoC を行う。  
   - 根拠: UI/テーマ調査、原則2（共有資産の最大活用）。

5. **翻訳ステータス管理**  
   - レジストリに `status`, `lastUpdated`, `reviewer` などのフィールドを追加し CLI `validate`/`info` で可視化する。  
   - 根拠: requirements-brief、原則4（コンテンツ運用）。

6. **検索・ナビゲーションメタデータ**  
   - `documents` に `keywords`, `tags`, `related` を保持し、MDX frontmatter は最小化。高度な関連付けはフェーズ5以降で検討する。  
   - 根拠: registry-metadata、原則3・4。

7. **CLI バックアップ/ロールバック戦略**  
   - 既存スクリプト同様 `.backups/` に差分保存し、失敗時自動ロールバックを標準化。バックアップの保有期間とクリーンアップコマンドを設ける。  
   - 根拠: scripts 調査、原則5（信頼性）。

8. **CI/自動化カバレッジ**  
   - フェーズ1で JSON Schema 検証・レジストリ/コンテンツ整合・Astro ビルドを必須にし、フェーズ2でリンク・アクセシビリティ・翻訳整合検査を追加する段階計画を採用。  
   - 根拠: requirements-brief、原則5。

---
次回更新予定: フェーズ1キックオフ時に新たな意思決定があれば追記します。
