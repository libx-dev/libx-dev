# Phase 2-4 å¼•ãç¶™ãã‚¬ã‚¤ãƒ‰

**ä½œæˆæ—¥**: 2025-10-19
**å¯¾è±¡**: Phase 2-4ï¼ˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ãƒ»ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å‘ä¸Šãƒ»æ¤œç´¢æ©Ÿèƒ½å¼·åŒ–ï¼‰æ‹…å½“è€…
**å‰æ**: Phase 2-3å®Œäº†ï¼ˆMDXã‚³ãƒ³ãƒ†ãƒ³ãƒ„çµ±åˆãƒ»æ¤œç´¢æ©Ÿèƒ½çµ±åˆæˆåŠŸï¼‰

---

## ğŸ“‹ ã¯ã˜ã‚ã«

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€Phase 2-3ã®æˆæœã‚’å¼•ãç¶™ãã€Phase 2-4ï¼ˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ãƒ»ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å‘ä¸Šãƒ»æ¤œç´¢æ©Ÿèƒ½å¼·åŒ–ï¼‰ã‚’ã‚¹ãƒ ãƒ¼ã‚ºã«é–‹å§‹ã™ã‚‹ãŸã‚ã®ã‚¬ã‚¤ãƒ‰ã§ã™ã€‚

### Phase 2-4ã®ç›®æ¨™

âœ… **Phase 2-3ã§å®Œäº†ã—ãŸã“ã¨**:
- Astroãƒ©ãƒ³ã‚¿ã‚¤ãƒ ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ä½œæˆï¼ˆ`packages/runtime/`ï¼‰
- å‹•çš„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒšãƒ¼ã‚¸å®Ÿè£…
- BaseLayout.astroã€DocLayout.astro ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚·ã‚¹ãƒ†ãƒ 
- Sidebarã€Headerã€Footerã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- **MDXã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®å‹•çš„èª­ã¿è¾¼ã¿å®Œå…¨æˆåŠŸ**ï¼ˆ64ãƒ•ã‚¡ã‚¤ãƒ«æ¤œå‡ºï¼‰
- **Vite Aliasã«ã‚ˆã‚‹ãƒ¢ãƒãƒ¬ãƒå¯¾å¿œ**ï¼ˆ`@apps`ã‚¨ã‚¤ãƒªã‚¢ã‚¹ï¼‰
- **Pagefindæ¤œç´¢æ©Ÿèƒ½çµ±åˆ**ï¼ˆ4,633èªã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹åŒ–ï¼‰
- RelatedDocsã€VersionSelectorã€Searchã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£…

ğŸ¯ **Phase 2-4ã§å®Ÿè£…ã™ã‚‹ã“ã¨**:
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ï¼ˆç”»åƒæœ€é©åŒ–ã€ã‚³ãƒ¼ãƒ‰åˆ†å‰²ã€CSSæœ€å°åŒ–ï¼‰
- ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å‘ä¸Šï¼ˆWCAG 2.1æº–æ‹ ã€ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œã€ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼å¯¾å¿œï¼‰
- æ¤œç´¢æ©Ÿèƒ½å¼·åŒ–ï¼ˆãƒ•ã‚¡ã‚»ãƒƒãƒˆæ¤œç´¢ã€ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ã€ãƒã‚¤ãƒ©ã‚¤ãƒˆï¼‰
- çµ±åˆãƒ†ã‚¹ãƒˆï¼ˆå…¨ãƒšãƒ¼ã‚¸è¡¨ç¤ºç¢ºèªã€Lighthouseã‚¹ã‚³ã‚¢æ¸¬å®šï¼‰

---

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### 1. Phase 2-3ã®æˆæœç‰©ã‚’ç¢ºèª

```bash
# runtimeãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•
cd packages/runtime

# ä¾å­˜é–¢ä¿‚ãŒæ­£ã—ãã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª
pnpm install

# ãƒ“ãƒ«ãƒ‰ã—ã¦å‹•ä½œç¢ºèª
pnpm build

# ãƒ“ãƒ«ãƒ‰æˆæœç‰©ã®ç¢ºèª
ls -lh dist/
find dist -name "*.html" | wc -l  # 63ãƒšãƒ¼ã‚¸ç”Ÿæˆã•ã‚Œã‚‹ã¯ãš
```

æœŸå¾…ã•ã‚Œã‚‹çµæœ:
- 63å€‹ã®HTMLãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã‚‹
- `dist/pagefind/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒå­˜åœ¨ã—ã€æ¤œç´¢ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãŒå«ã¾ã‚Œã‚‹
- å„HTMLãƒ•ã‚¡ã‚¤ãƒ«ã§MDXã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒæ­£ã—ããƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã¦ã„ã‚‹

### 2. ç¾åœ¨ã®æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ç¢ºèª

**Phase 2-3ã§ç¢ºç«‹ã•ã‚ŒãŸæŠ€è¡“åŸºç›¤**:

1. **Vite Alias**:
   - `@apps`: ãƒ¢ãƒãƒ¬ãƒå†…ã®appsãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¸ã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹
   - `@docs/generator`, `@docs/ui`, `@docs/theme`ç­‰ã®æ—¢å­˜ã‚¨ã‚¤ãƒªã‚¢ã‚¹

2. **MDXå‹•çš„èª­ã¿è¾¼ã¿**:
   - `import.meta.glob('@apps/*/src/content/docs/**/*.mdx')` ã§64ãƒ•ã‚¡ã‚¤ãƒ«æ¤œå‡º
   - ç•ªå·æ¥é ­è¾ï¼ˆ`01-`, `02-`ï¼‰ã®è‡ªå‹•å‡¦ç†

3. **ç’°å¢ƒå¤‰æ•°**:
   - `import.meta.env.PROJECT_ROOT`: ãƒ¬ã‚¸ã‚¹ãƒˆãƒªãƒ‘ã‚¹è§£æ±ºç”¨

4. **Pagefindæ¤œç´¢**:
   - postbuildã‚¹ã‚¯ãƒªãƒ—ãƒˆã§è‡ªå‹•ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹åŒ–
   - 3è¨€èªå¯¾å¿œï¼ˆja, ko, enï¼‰

### 3. é‡è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§

**ã‚³ã‚¢å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**:
```
packages/runtime/
â”œâ”€â”€ astro.config.mjs              # Vite Aliasè¨­å®š
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â””â”€â”€ [project]/[version]/[lang]/[...slug].astro  # MDXå‹•çš„èª­ã¿è¾¼ã¿
â”‚   â”œâ”€â”€ layouts/
â”‚   â”‚   â”œâ”€â”€ BaseLayout.astro      # åŸºæœ¬ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”‚   â””â”€â”€ DocLayout.astro       # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå°‚ç”¨ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ RelatedDocs.astro     # é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè¡¨ç¤º
â”‚   â”‚   â”œâ”€â”€ VersionSelector.astro # ãƒãƒ¼ã‚¸ãƒ§ãƒ³åˆ‡ã‚Šæ›¿ãˆ
â”‚   â”‚   â””â”€â”€ Search.astro          # Pagefindæ¤œç´¢UI
â”‚   â””â”€â”€ content/
â”‚       â””â”€â”€ config.ts             # Content Collectionsè¨­å®šï¼ˆç¾åœ¨ã¯ç©ºï¼‰
â””â”€â”€ package.json                  # Pagefindè¨­å®š
```

---

## ğŸ“¦ Phase 2-3ã§å®Ÿè£…ã•ã‚ŒãŸæ©Ÿèƒ½è©³ç´°

### 1. MDXã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®å‹•çš„èª­ã¿è¾¼ã¿

**å®Ÿè£…æ–¹æ³•**: Vite Aliasã‚’ä½¿ç”¨ã—ãŸ`import.meta.glob()`

**ãƒ•ã‚¡ã‚¤ãƒ«**: `src/pages/[project]/[version]/[lang]/[...slug].astro`

```typescript
// @appsã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚’ä½¿ç”¨ã—ã¦MDXãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€
const mdxModules = import.meta.glob('@apps/*/src/content/docs/**/*.mdx');

// ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã€è¨€èªã€slugã§ãƒãƒƒãƒãƒ³ã‚°
const matchingKey = Object.keys(mdxModules).find(modulePath => {
  // ç•ªå·æ¥é ­è¾ã‚’è€ƒæ…®ã—ãŸãƒ‘ã‚¹è§£æ±º
  // ä¾‹: "01-guide/01-getting-started.mdx" â†’ "guide/getting-started"
});

if (matchingKey) {
  const module = await mdxModules[matchingKey]();
  Content = module.default || module.Content;
}
```

**ç‰¹å¾´**:
- âœ… 64å€‹ã®MDXãƒ•ã‚¡ã‚¤ãƒ«ã‚’è‡ªå‹•æ¤œå‡º
- âœ… ç•ªå·æ¥é ­è¾ï¼ˆ`01-`, `02-`ï¼‰ã®è‡ªå‹•å‡¦ç†
- âœ… ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ/ãƒãƒ¼ã‚¸ãƒ§ãƒ³/è¨€èªã«ã‚ˆã‚‹å‹•çš„ãƒãƒƒãƒãƒ³ã‚°

**ç¢ºèªæ–¹æ³•**:
```bash
# ãƒ“ãƒ«ãƒ‰ãƒ­ã‚°ã§MDX Importã®æˆåŠŸã‚’ç¢ºèª
pnpm build 2>&1 | grep "MDX Import"
# [MDX Import] Total MDX modules found: 64
# [MDX Import] Match found: ... ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã¯ãš
```

### 2. Pagefindæ¤œç´¢æ©Ÿèƒ½

**å®Ÿè£…æ–¹æ³•**: postbuildã‚¹ã‚¯ãƒªãƒ—ãƒˆã§è‡ªå‹•ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹åŒ–

**ãƒ•ã‚¡ã‚¤ãƒ«**: `package.json`

```json
{
  "scripts": {
    "build": "astro build",
    "postbuild": "pagefind --site dist --glob \"**/*.html\""
  },
  "devDependencies": {
    "pagefind": "^1.4.0"
  }
}
```

**æ¤œç´¢UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**: `src/components/Search.astro`

```astro
<div class="search-container">
  <div id="search"></div>
</div>

<script>
  // Pagefindã®å‹•çš„ãƒ­ãƒ¼ãƒ‰ï¼ˆãƒ“ãƒ«ãƒ‰å¾Œã®ã¿åˆ©ç”¨å¯èƒ½ï¼‰
  if (typeof window !== 'undefined' && window.location.hostname !== 'localhost') {
    // ... Pagefind UIåˆæœŸåŒ– ...
  }
</script>
```

**ç¢ºèªæ–¹æ³•**:
```bash
# Pagefindã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®ç¢ºèª
ls -lh dist/pagefind/
# pagefind.js, pagefind-ui.js, å„è¨€èªã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã™ã‚‹ã¯ãš

# ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹åŒ–èªæ•°ã®ç¢ºèª
pnpm build 2>&1 | grep "Indexed.*words"
# Indexed 4633 words ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã¯ãš
```

### 3. æ–°è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

#### 3-1. RelatedDocs.astroï¼ˆé–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè¡¨ç¤ºï¼‰

**æ©Ÿèƒ½**:
- ãƒ¬ã‚¸ã‚¹ãƒˆãƒªã‹ã‚‰é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæƒ…å ±ã‚’å–å¾—
- ã‚«ãƒ¼ãƒ‰å½¢å¼ã§ã®è¡¨ç¤º
- ã‚¿ã‚°è¡¨ç¤ºã€ãƒ›ãƒãƒ¼ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³

**ä½¿ç”¨ä¾‹**:
```astro
<RelatedDocs
  relatedDocIds={related}
  projectId={projectId}
  currentLang={lang}
  currentVersion={version}
/>
```

#### 3-2. VersionSelector.astroï¼ˆãƒãƒ¼ã‚¸ãƒ§ãƒ³åˆ‡ã‚Šæ›¿ãˆï¼‰

**æ©Ÿèƒ½**:
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å…¨ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³è¡¨ç¤º
- æœ€æ–°ç‰ˆãƒ»éæ¨å¥¨ç‰ˆãƒ»ãƒ™ãƒ¼ã‚¿ç‰ˆã®ãƒ©ãƒ™ãƒ«è¡¨ç¤º
- ãƒªãƒªãƒ¼ã‚¹æ—¥é †ã®ã‚½ãƒ¼ãƒˆ

**ä½¿ç”¨ä¾‹**:
```astro
<VersionSelector
  projectId={projectId}
  currentVersion={version}
  lang={lang}
  slug={slug}
/>
```

#### 3-3. Search.astroï¼ˆæ¤œç´¢UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰

**æ©Ÿèƒ½**:
- Pagefindã¨ã®å‹•çš„çµ±åˆ
- ãƒ‡ãƒã‚¦ãƒ³ã‚¹å‡¦ç†ã«ã‚ˆã‚‹æ¤œç´¢æœ€é©åŒ–
- ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³å¯¾å¿œ

**ä½¿ç”¨ä¾‹**:
```astro
<Search />
```

---

## ğŸ¯ Phase 2-4ã®å®Ÿè£…ã‚¬ã‚¤ãƒ‰

### ã‚¿ã‚¹ã‚¯1: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ï¼ˆæ¨å®šå·¥æ•°: 2-3æ™‚é–“ï¼‰

#### 1-1. ç”»åƒæœ€é©åŒ–

**ç›®æ¨™**: Astro Imageã‚’ä½¿ç”¨ã—ãŸè‡ªå‹•ç”»åƒæœ€é©åŒ–

**å®Ÿè£…æ‰‹é †**:

1. **Astro Imageçµ±åˆã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**:
```bash
cd packages/runtime
pnpm add @astrojs/image
```

2. **astro.config.mjsã®æ›´æ–°**:
```javascript
import image from '@astrojs/image';

export default defineConfig({
  integrations: [
    mdx(),
    image({
      serviceEntryPoint: '@astrojs/image/sharp'
    })
  ]
});
```

3. **MDXãƒ•ã‚¡ã‚¤ãƒ«ã§ã®ä½¿ç”¨**:
```mdx
---
title: "Example"
---

import { Image } from 'astro:assets';
import myImage from './my-image.png';

<Image src={myImage} alt="Description" width={800} height={600} />
```

**æˆåŠŸåŸºæº–**:
- âœ… ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ãŒè‡ªå‹•çš„ã«WebP/AVIFã«å¤‰æ›ã•ã‚Œã‚‹
- âœ… ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ç”»åƒãŒç”Ÿæˆã•ã‚Œã‚‹ï¼ˆsrcsetï¼‰
- âœ… ãƒ“ãƒ«ãƒ‰ã‚µã‚¤ã‚ºãŒå‰Šæ¸›ã•ã‚Œã‚‹

#### 1-2. ã‚³ãƒ¼ãƒ‰åˆ†å‰²æœ€é©åŒ–

**ç›®æ¨™**: Viteã®manualChunksã‚’ä½¿ç”¨ã—ãŸæœ€é©ãªã‚³ãƒ¼ãƒ‰åˆ†å‰²

**å®Ÿè£…æ‰‹é †**:

**astro.config.mjs**:
```javascript
export default defineConfig({
  vite: {
    build: {
      rollupOptions: {
        output: {
          manualChunks: {
            'vendor': ['astro'],
            'ui': ['@docs/ui'],
            'generator': ['@docs/generator'],
            'search': ['pagefind']
          }
        }
      }
    }
  }
});
```

**æˆåŠŸåŸºæº–**:
- âœ… ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºãŒæœ€é©åŒ–ã•ã‚Œã‚‹
- âœ… åˆæœŸãƒ­ãƒ¼ãƒ‰æ™‚é–“ãŒçŸ­ç¸®ã•ã‚Œã‚‹
- âœ… Lighthouse Performance ã‚¹ã‚³ã‚¢ãŒå‘ä¸Šã™ã‚‹

#### 1-3. CSSæœ€å°åŒ–

**ç›®æ¨™**: æœªä½¿ç”¨CSSã®å‰Šé™¤ã¨Critical CSSæŠ½å‡º

**å®Ÿè£…æ‰‹é †**:

1. **PurgeCSSã®å°å…¥**ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰:
```bash
pnpm add -D @fullhuman/postcss-purgecss
```

2. **postcss.config.cjsã®ä½œæˆ**:
```javascript
module.exports = {
  plugins: [
    require('@fullhuman/postcss-purgecss')({
      content: ['./src/**/*.{astro,html,js,jsx,md,mdx,ts,tsx}'],
      safelist: ['dark', 'light']
    })
  ]
};
```

**æˆåŠŸåŸºæº–**:
- âœ… CSSãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãŒå‰Šæ¸›ã•ã‚Œã‚‹
- âœ… æœªä½¿ç”¨ã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒé™¤å»ã•ã‚Œã‚‹

---

### ã‚¿ã‚¹ã‚¯2: ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å‘ä¸Šï¼ˆæ¨å®šå·¥æ•°: 2-3æ™‚é–“ï¼‰

#### 2-1. WCAG 2.1æº–æ‹ ãƒã‚§ãƒƒã‚¯

**ãƒ„ãƒ¼ãƒ«**:
- [axe DevTools](https://chrome.google.com/webstore/detail/axe-devtools-web-accessibility/lhdoppojpmngadmnindnejefpokejbdd)
- [WAVE](https://wave.webaim.org/extension/)

**ãƒã‚§ãƒƒã‚¯é …ç›®**:

1. **ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³**:
```astro
<!-- ã™ã¹ã¦ã®ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–è¦ç´ ã«tabindexã‚’è¨­å®š -->
<button tabindex="0">æ¤œç´¢</button>
<a href="..." tabindex="0">ãƒªãƒ³ã‚¯</a>
```

2. **ARIAå±æ€§ã®è¿½åŠ **:
```astro
<!-- Search.astro -->
<div role="search" aria-label="ã‚µã‚¤ãƒˆå†…æ¤œç´¢">
  <input
    type="search"
    aria-label="æ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›"
    aria-describedby="search-help"
  />
  <div id="search-help" class="sr-only">
    ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦Enterã‚­ãƒ¼ã‚’æŠ¼ã—ã¦ãã ã•ã„
  </div>
</div>
```

3. **ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼å¯¾å¿œ**:
```astro
<!-- VersionSelector.astro -->
<select
  id="version-select"
  aria-label="ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’é¸æŠ"
  onchange="window.location.href = this.value"
>
  <option value="...">v2.0 (æœ€æ–°)</option>
</select>
```

**æˆåŠŸåŸºæº–**:
- âœ… axe DevToolsã§é‡å¤§ãªå•é¡ŒãŒ0ä»¶
- âœ… WAVEã§è­¦å‘ŠãŒæœ€å°é™
- âœ… ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã®ã¿ã§å…¨æ©Ÿèƒ½ãŒæ“ä½œå¯èƒ½
- âœ… Lighthouse Accessibility ã‚¹ã‚³ã‚¢90ä»¥ä¸Š

#### 2-2. ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ç®¡ç†

**å®Ÿè£…ç®‡æ‰€**: `src/components/Navigation.astro`, `src/components/Sidebar.astro`

```astro
<style>
  /* ãƒ•ã‚©ãƒ¼ã‚«ã‚¹æ™‚ã®è¦–è¦šçš„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ */
  a:focus,
  button:focus {
    outline: 2px solid var(--color-primary);
    outline-offset: 2px;
  }

  /* ã‚¹ã‚­ãƒƒãƒ—ãƒªãƒ³ã‚¯ã®å®Ÿè£… */
  .skip-to-content {
    position: absolute;
    top: -40px;
    left: 0;
    background: var(--color-primary);
    color: white;
    padding: 8px;
    text-decoration: none;
    z-index: 100;
  }

  .skip-to-content:focus {
    top: 0;
  }
</style>
```

---

### ã‚¿ã‚¹ã‚¯3: æ¤œç´¢æ©Ÿèƒ½å¼·åŒ–ï¼ˆæ¨å®šå·¥æ•°: 3-4æ™‚é–“ï¼‰

#### 3-1. ãƒ•ã‚¡ã‚»ãƒƒãƒˆæ¤œç´¢ï¼ˆãƒ•ã‚£ãƒ«ã‚¿æ©Ÿèƒ½ï¼‰

**ç›®æ¨™**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã€è¨€èªã§ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°å¯èƒ½ãªæ¤œç´¢

**å®Ÿè£…æ‰‹é †**:

**Search.astro**ã®æ‹¡å¼µ:
```astro
<div class="search-filters">
  <select id="project-filter" aria-label="ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§çµã‚Šè¾¼ã¿">
    <option value="">ã™ã¹ã¦ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ</option>
    <option value="sample-docs">Sample Docs</option>
    <option value="test-verification">Test Verification</option>
    <option value="libx-docs">LibX Docs</option>
  </select>

  <select id="version-filter" aria-label="ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§çµã‚Šè¾¼ã¿">
    <option value="">ã™ã¹ã¦ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³</option>
    <option value="v2">v2</option>
    <option value="v1">v1</option>
  </select>

  <select id="lang-filter" aria-label="è¨€èªã§çµã‚Šè¾¼ã¿">
    <option value="">ã™ã¹ã¦ã®è¨€èª</option>
    <option value="ja">æ—¥æœ¬èª</option>
    <option value="en">English</option>
    <option value="ko">í•œêµ­ì–´</option>
  </select>
</div>

<script>
  // Pagefindã®ãƒ•ã‚£ãƒ«ã‚¿æ©Ÿèƒ½ã‚’ä½¿ç”¨
  const search = await pagefind.search(query, {
    filters: {
      project: [projectFilter],
      version: [versionFilter],
      lang: [langFilter]
    }
  });
</script>
```

**Pagefindãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®è¿½åŠ **:

**[...slug].astro**:
```astro
<div
  data-pagefind-body
  data-pagefind-filter="project:{project}"
  data-pagefind-filter="version:{version}"
  data-pagefind-filter="lang:{lang}"
>
  {Content ? <Content /> : <div>...</div>}
</div>
```

**æˆåŠŸåŸºæº–**:
- âœ… ãƒ•ã‚£ãƒ«ã‚¿ãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹
- âœ… è¤‡æ•°ãƒ•ã‚£ãƒ«ã‚¿ã®çµ„ã¿åˆã‚ã›ãŒå¯èƒ½
- âœ… ãƒ•ã‚£ãƒ«ã‚¿é¸æŠçŠ¶æ…‹ãŒURLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§ä¿æŒã•ã‚Œã‚‹

#### 3-2. æ¤œç´¢çµæœã®ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³

**å®Ÿè£…æ‰‹é †**:

```astro
<script>
  let currentPage = 1;
  const resultsPerPage = 10;

  function displayResults(results, page) {
    const start = (page - 1) * resultsPerPage;
    const end = start + resultsPerPage;
    const pageResults = results.slice(start, end);

    // çµæœè¡¨ç¤º
    renderResults(pageResults);

    // ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³è¡¨ç¤º
    renderPagination(results.length, page);
  }

  function renderPagination(totalResults, currentPage) {
    const totalPages = Math.ceil(totalResults / resultsPerPage);
    const paginationHTML = `
      <nav aria-label="æ¤œç´¢çµæœã®ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³">
        <ul class="pagination">
          ${currentPage > 1 ? `<li><a href="#" data-page="${currentPage - 1}">å‰ã¸</a></li>` : ''}
          ${Array.from({length: totalPages}, (_, i) => i + 1).map(page => `
            <li class="${page === currentPage ? 'active' : ''}">
              <a href="#" data-page="${page}">${page}</a>
            </li>
          `).join('')}
          ${currentPage < totalPages ? `<li><a href="#" data-page="${currentPage + 1}">æ¬¡ã¸</a></li>` : ''}
        </ul>
      </nav>
    `;
    document.getElementById('pagination').innerHTML = paginationHTML;
  }
</script>
```

**æˆåŠŸåŸºæº–**:
- âœ… æ¤œç´¢çµæœãŒ10ä»¶ãšã¤è¡¨ç¤ºã•ã‚Œã‚‹
- âœ… ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹
- âœ… ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã§æ“ä½œå¯èƒ½

#### 3-3. æ¤œç´¢ãƒã‚¤ãƒ©ã‚¤ãƒˆæ©Ÿèƒ½

**å®Ÿè£…æ‰‹é †**:

```astro
<script>
  function highlightSearchTerms(text, query) {
    const regex = new RegExp(`(${query})`, 'gi');
    return text.replace(regex, '<mark>$1</mark>');
  }

  async function displaySearchResults(results, query) {
    const resultsHTML = results.map(result => `
      <article class="search-result">
        <h3>
          <a href="${result.url}">
            ${highlightSearchTerms(result.meta.title, query)}
          </a>
        </h3>
        <p class="excerpt">
          ${highlightSearchTerms(result.excerpt, query)}
        </p>
        <div class="meta">
          <span class="project">${result.meta.project}</span>
          <span class="version">${result.meta.version}</span>
          <span class="lang">${result.meta.lang}</span>
        </div>
      </article>
    `).join('');

    document.getElementById('search-results').innerHTML = resultsHTML;
  }
</script>

<style>
  mark {
    background-color: yellow;
    font-weight: bold;
    padding: 0 2px;
  }
</style>
```

**æˆåŠŸåŸºæº–**:
- âœ… æ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒãƒã‚¤ãƒ©ã‚¤ãƒˆè¡¨ç¤ºã•ã‚Œã‚‹
- âœ… ã‚¿ã‚¤ãƒˆãƒ«ã¨æœ¬æ–‡ã®ä¸¡æ–¹ã§ãƒã‚¤ãƒ©ã‚¤ãƒˆã•ã‚Œã‚‹
- âœ… ãƒã‚¤ãƒ©ã‚¤ãƒˆè‰²ãŒã‚¢ã‚¯ã‚»ã‚·ãƒ–ãƒ«ï¼ˆã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆæ¯”4.5:1ä»¥ä¸Šï¼‰

---

### ã‚¿ã‚¹ã‚¯4: çµ±åˆãƒ†ã‚¹ãƒˆï¼ˆæ¨å®šå·¥æ•°: 2-3æ™‚é–“ï¼‰

#### 4-1. å…¨ãƒšãƒ¼ã‚¸è¡¨ç¤ºç¢ºèª

**ãƒ†ã‚¹ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œæˆ**:

**test-pages.sh**:
```bash
#!/bin/bash

# ãƒ“ãƒ«ãƒ‰å®Ÿè¡Œ
pnpm build

# å…¨HTMLãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒªã‚¹ãƒˆå–å¾—
find dist -name "*.html" > page-list.txt

# å„ãƒšãƒ¼ã‚¸ã®HTMLãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
while IFS= read -r file; do
  echo "Validating: $file"
  # HTMLæ§‹é€ ãŒæ­£ã—ã„ã‹ç¢ºèª
  if ! grep -q "<html" "$file"; then
    echo "ERROR: Missing <html> tag in $file"
  fi
  if ! grep -q "</html>" "$file"; then
    echo "ERROR: Missing </html> tag in $file"
  fi
done < page-list.txt

echo "Page validation complete!"
```

**æˆåŠŸåŸºæº–**:
- âœ… å…¨63ãƒšãƒ¼ã‚¸ãŒã‚¨ãƒ©ãƒ¼ãªãç”Ÿæˆã•ã‚Œã‚‹
- âœ… å„ãƒšãƒ¼ã‚¸ã«MDXã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒå«ã¾ã‚Œã‚‹
- âœ… HTMLãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ãƒ‘ã‚¹ã™ã‚‹

#### 4-2. Lighthouseã‚¹ã‚³ã‚¢æ¸¬å®š

**æ¸¬å®šæ‰‹é †**:

```bash
# Lighthouseã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pnpm add -D lighthouse

# ãƒ†ã‚¹ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ä½œæˆ
cat > test-lighthouse.js << 'EOF'
const lighthouse = require('lighthouse');
const chromeLauncher = require('chrome-launcher');

async function runLighthouse(url) {
  const chrome = await chromeLauncher.launch({chromeFlags: ['--headless']});
  const options = {logLevel: 'info', output: 'html', port: chrome.port};
  const runnerResult = await lighthouse(url, options);

  console.log('Performance score:', runnerResult.lhr.categories.performance.score * 100);
  console.log('Accessibility score:', runnerResult.lhr.categories.accessibility.score * 100);
  console.log('Best Practices score:', runnerResult.lhr.categories['best-practices'].score * 100);
  console.log('SEO score:', runnerResult.lhr.categories.seo.score * 100);

  await chrome.kill();
}

runLighthouse('http://localhost:4321/sample-docs/v2/ja/guide/getting-started');
EOF

node test-lighthouse.js
```

**ç›®æ¨™ã‚¹ã‚³ã‚¢**:
- Performance: 80ä»¥ä¸Š
- Accessibility: 90ä»¥ä¸Š
- Best Practices: 90ä»¥ä¸Š
- SEO: 90ä»¥ä¸Š

#### 4-3. æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ

**ãƒ†ã‚¹ãƒˆé …ç›®**:

1. **ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³**:
   - [ ] ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®å±•é–‹/æŠ˜ã‚ŠãŸãŸã¿ãŒå‹•ä½œã™ã‚‹
   - [ ] ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®ãƒªãƒ³ã‚¯ãŒæ­£ã—ã„ãƒšãƒ¼ã‚¸ã«é·ç§»ã™ã‚‹
   - [ ] ãƒ–ãƒ¬ãƒƒãƒ‰ã‚¯ãƒ©ãƒ ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹

2. **ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚»ãƒ¬ã‚¯ã‚¿ãƒ¼**:
   - [ ] ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹
   - [ ] ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å¤‰æ›´ã™ã‚‹ã¨æ­£ã—ã„ãƒšãƒ¼ã‚¸ã«é·ç§»ã™ã‚‹
   - [ ] æœ€æ–°ç‰ˆãƒ»éæ¨å¥¨ç‰ˆã®ãƒ©ãƒ™ãƒ«ãŒè¡¨ç¤ºã•ã‚Œã‚‹

3. **æ¤œç´¢æ©Ÿèƒ½**:
   - [ ] æ¤œç´¢ãƒœãƒƒã‚¯ã‚¹ã«ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã™ã‚‹ã¨çµæœãŒè¡¨ç¤ºã•ã‚Œã‚‹
   - [ ] ãƒ•ã‚£ãƒ«ã‚¿ãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹
   - [ ] ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ãŒå‹•ä½œã™ã‚‹
   - [ ] æ¤œç´¢çµæœã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨è©²å½“ãƒšãƒ¼ã‚¸ã«é·ç§»ã™ã‚‹

4. **é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**:
   - [ ] é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹
   - [ ] ã‚«ãƒ¼ãƒ‰ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨è©²å½“ãƒšãƒ¼ã‚¸ã«é·ç§»ã™ã‚‹

---

## âš ï¸ æ³¨æ„äº‹é …ãƒ»åˆ¶ç´„äº‹é …

### 1. Vite Aliasã®åˆ¶ç´„

**å•é¡Œ**: `@apps`ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã¯é–‹ç™ºæ™‚ã¨ãƒ“ãƒ«ãƒ‰æ™‚ã§å‹•ä½œãŒç•°ãªã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹

**å¯¾å¿œ**:
- å¿…ãšãƒ“ãƒ«ãƒ‰ã—ã¦å‹•ä½œç¢ºèªã™ã‚‹ã“ã¨
- é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã¨ãƒ“ãƒ«ãƒ‰æˆæœç‰©ã®ä¸¡æ–¹ã§ãƒ†ã‚¹ãƒˆã™ã‚‹ã“ã¨

### 2. Pagefindã®åˆ¶ç´„

**å•é¡Œ**: Pagefindã¯ãƒ“ãƒ«ãƒ‰å¾Œã«ã®ã¿å‹•ä½œã™ã‚‹

**å¯¾å¿œ**:
- é–‹ç™ºæ™‚ã¯æ¤œç´¢æ©Ÿèƒ½ãŒå‹•ä½œã—ãªã„
- `pnpm preview`ã§ãƒ“ãƒ«ãƒ‰æˆæœç‰©ã‚’ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã—ã¦æ¤œç´¢ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã“ã¨

### 3. MDXãƒ•ã‚¡ã‚¤ãƒ«ã®ç•ªå·æ¥é ­è¾

**å•é¡Œ**: ãƒ•ã‚¡ã‚¤ãƒ«åã«ç•ªå·æ¥é ­è¾ï¼ˆ`01-`, `02-`ï¼‰ãŒå¿…é ˆ

**å¯¾å¿œ**:
- æ–°ã—ã„MDXãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ ã™ã‚‹éš›ã¯å¿…ãšç•ªå·æ¥é ­è¾ã‚’ä»˜ã‘ã‚‹ã“ã¨
- ãƒ¬ã‚¸ã‚¹ãƒˆãƒªã®slugã«ã¯ç•ªå·æ¥é ­è¾ã‚’å«ã‚ãªã„ã“ã¨

---

## ğŸ§ª ãƒ†ã‚¹ãƒˆãƒ»ãƒ‡ãƒãƒƒã‚°æ‰‹é †

### 1. ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã§ã®ç¢ºèª

```bash
cd packages/runtime
pnpm dev
```

ä»¥ä¸‹ã®URLã§å‹•ä½œç¢ºèªï¼š
- http://localhost:4321/sample-docs/v2/ja/guide/getting-started
- http://localhost:4321/test-verification/v2/en/guide/getting-started

### 2. ãƒ“ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆ

```bash
# ãƒ“ãƒ«ãƒ‰å®Ÿè¡Œ
pnpm build

# ç”Ÿæˆãƒ•ã‚¡ã‚¤ãƒ«ç¢ºèª
ls -la dist/
find dist -name "*.html" | wc -l  # 63ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã¯ãš

# ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
pnpm preview
```

### 3. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ

```bash
# Lighthouseã§ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¸¬å®š
lighthouse http://localhost:4321/sample-docs/v2/ja/guide/getting-started --view
```

---

## ğŸ“š å‚è€ƒè³‡æ–™

### Phase 2-3æˆæœç‰©

- [Phase 2-3å®Œäº†å ±å‘Šæ›¸](./phase-2-3-completion-report.md)
- [packages/runtime/README.md](../../packages/runtime/README.md)
- [packages/runtime/src/pages/[project]/[version]/[lang]/[...slug].astro](../../packages/runtime/src/pages/[project]/[version]/[lang]/[...slug].astro)

### Phase 2è¨ˆç”»æ›¸

- [Phase 2-3 è¨ˆç”»æ›¸](../phase-2-3-search.md)
- [Astroçµ±åˆæŠ€è¡“èª¿æŸ»](../research/astro-integration.md)
- [UI/ãƒ†ãƒ¼ãƒæº–å‚™çŠ¶æ³è©•ä¾¡](../research/ui-theme-readiness.md)

### å¤–éƒ¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [Astro Performance](https://docs.astro.build/en/guides/performance/)
- [Astro Accessibility](https://docs.astro.build/en/guides/accessibility/)
- [Pagefind Documentation](https://pagefind.app/)
- [WCAG 2.1 Guidelines](https://www.w3.org/WAI/WCAG21/quickref/)
- [Lighthouse Documentation](https://developers.google.com/web/tools/lighthouse)

---

## ğŸ’¡ æ¨å¥¨ä½œæ¥­é †åº

Phase 2-4ã®å®Ÿè£…ã¯ä»¥ä¸‹ã®é †åºã§é€²ã‚ã‚‹ã“ã¨ã‚’æ¨å¥¨ï¼š

1. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–**ï¼ˆ2-3æ™‚é–“ï¼‰
   - ç”»åƒæœ€é©åŒ–ï¼ˆAstro Imageçµ±åˆï¼‰
   - ã‚³ãƒ¼ãƒ‰åˆ†å‰²æœ€é©åŒ–
   - CSSæœ€å°åŒ–

2. **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å‘ä¸Š**ï¼ˆ2-3æ™‚é–“ï¼‰
   - WCAG 2.1æº–æ‹ ãƒã‚§ãƒƒã‚¯
   - ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³æ”¹å–„
   - ARIAå±æ€§è¿½åŠ 
   - ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼å¯¾å¿œ

3. **æ¤œç´¢æ©Ÿèƒ½å¼·åŒ–**ï¼ˆ3-4æ™‚é–“ï¼‰
   - ãƒ•ã‚¡ã‚»ãƒƒãƒˆæ¤œç´¢å®Ÿè£…
   - ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè£…
   - æ¤œç´¢ãƒã‚¤ãƒ©ã‚¤ãƒˆå®Ÿè£…

4. **çµ±åˆãƒ†ã‚¹ãƒˆ**ï¼ˆ2-3æ™‚é–“ï¼‰
   - å…¨ãƒšãƒ¼ã‚¸è¡¨ç¤ºç¢ºèª
   - Lighthouseã‚¹ã‚³ã‚¢æ¸¬å®š
   - æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ

**æ¨å®šç·å·¥æ•°**: 9-13æ™‚é–“ï¼ˆ2-3å–¶æ¥­æ—¥ï¼‰

---

## ğŸ†˜ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œ

#### 1. Lighthouseã‚¹ã‚³ã‚¢ãŒä½ã„

**åŸå› **: ç”»åƒæœ€é©åŒ–ãŒä¸ååˆ†ã€æœªä½¿ç”¨CSSãŒå¤šã„

**è§£æ±ºç­–**:
- Astro Imageã‚’ä½¿ç”¨ã—ã¦ã™ã¹ã¦ã®ç”»åƒã‚’æœ€é©åŒ–
- PurgeCSSã§æœªä½¿ç”¨CSSã‚’å‰Šé™¤
- ã‚³ãƒ¼ãƒ‰åˆ†å‰²ã‚’æœ€é©åŒ–

#### 2. ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã‚¨ãƒ©ãƒ¼ãŒå¤šã„

**åŸå› **: ARIAå±æ€§ã®ä¸è¶³ã€ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆæ¯”ä¸è¶³

**è§£æ±ºç­–**:
- axe DevToolsã§å…·ä½“çš„ãªã‚¨ãƒ©ãƒ¼ã‚’ç¢ºèª
- å„ã‚¨ãƒ©ãƒ¼ã«å¯¾ã—ã¦é©åˆ‡ãªARIAå±æ€§ã‚’è¿½åŠ 
- ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆã‚’èª¿æ•´ã—ã¦ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆæ¯”ã‚’æ”¹å–„

#### 3. æ¤œç´¢ãƒ•ã‚£ãƒ«ã‚¿ãŒå‹•ä½œã—ãªã„

**åŸå› **: Pagefindãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®ä¸è¶³

**è§£æ±ºç­–**:
- HTMLã«`data-pagefind-filter`å±æ€§ã‚’è¿½åŠ 
- ãƒ“ãƒ«ãƒ‰ã‚’å†å®Ÿè¡Œã—ã¦ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’å†ç”Ÿæˆ

---

## ğŸ“ ã‚µãƒãƒ¼ãƒˆãƒ»è³ªå•

Phase 2-4å®Ÿè£…ä¸­ã«ä¸æ˜ç‚¹ãŒã‚ã‚Œã°ã€ä»¥ä¸‹ã‚’å‚ç…§ã—ã¦ãã ã•ã„ï¼š

1. **Phase 2-3å®Œäº†å ±å‘Š**: `docs/new-generator-plan/status/phase-2-3-completion-report.md`
2. **generatorãƒ‘ãƒƒã‚±ãƒ¼ã‚¸API**: `packages/generator/README.md`
3. **Astroå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: https://docs.astro.build/

---

**ä½œæˆè€…**: Claude
**ä½œæˆæ—¥**: 2025-10-19
**å¯¾è±¡ãƒ•ã‚§ãƒ¼ã‚º**: Phase 2-4
**å‰æãƒ•ã‚§ãƒ¼ã‚º**: Phase 2-3ï¼ˆå®Œäº†ï¼‰

---

ğŸ¯ **æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—**: Phase 2-4ã®è©³ç´°è¨ˆç”»æ›¸ã‚’ç¢ºèªã—ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ã‹ã‚‰å®Ÿè£…ã‚’é–‹å§‹ã—ã¦ãã ã•ã„ã€‚
