# Phase 2-5 å¼•ãç¶™ãã‚¬ã‚¤ãƒ‰

**ä½œæˆæ—¥**: 2025-10-19
**å¯¾è±¡**: Phase 2-5ï¼ˆå…±æœ‰ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æ¤œè¨¼ï¼‰æ‹…å½“è€…
**å‰æ**: Phase 2-4å®Œäº†ï¼ˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ãƒ»ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å‘ä¸Šå®Œäº†ï¼‰

---

## ğŸ“‹ Phase 2-4å®Œäº†çŠ¶æ³ã‚µãƒãƒªãƒ¼

### âœ… Phase 2-4ã§é”æˆã—ãŸã“ã¨

#### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
- âœ… Astroæ¨™æº–ã®ç”»åƒæœ€é©åŒ–ï¼ˆastro:assetsï¼‰çµ±åˆ
- âœ… ã‚³ãƒ¼ãƒ‰åˆ†å‰²æœ€é©åŒ–ï¼ˆ8ãƒãƒ£ãƒ³ã‚¯åˆ†é›¢æˆ¦ç•¥ï¼‰
- âœ… CSSæœ€å°åŒ–è¨­å®š

#### ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å‘ä¸Š
- âœ… Lighthouse Accessibility 91/100é”æˆï¼ˆç›®æ¨™90ä»¥ä¸Šï¼‰
- âœ… WCAG 2.1ä¸»è¦é …ç›®æº–æ‹ 
- âœ… ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼å¯¾å¿œå®Œäº†

#### æ¤œç´¢æ©Ÿèƒ½å¼·åŒ–
- âœ… ãƒ•ã‚¡ã‚»ãƒƒãƒˆæ¤œç´¢ï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ/ãƒãƒ¼ã‚¸ãƒ§ãƒ³/è¨€èªãƒ•ã‚£ãƒ«ã‚¿ï¼‰
- âœ… ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆ10ä»¶/ãƒšãƒ¼ã‚¸ï¼‰
- âœ… æ¤œç´¢ãƒã‚¤ãƒ©ã‚¤ãƒˆæ©Ÿèƒ½

#### çµ±åˆãƒ†ã‚¹ãƒˆ
- âœ… **Lighthouse Performance 100/100**
- âœ… **Lighthouse Best Practices 96/100**
- âœ… **Lighthouse SEO 100/100**
- âœ… ãƒ“ãƒ«ãƒ‰æˆåŠŸï¼ˆ62ãƒšãƒ¼ã‚¸ã€4,635èªã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹åŒ–ï¼‰

### ğŸ“Š ç¾åœ¨ã®ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹

| é …ç›® | çŠ¶æ…‹ |
|------|------|
| ãƒ“ãƒ«ãƒ‰ã‚·ã‚¹ãƒ†ãƒ  | âœ… å®Œå…¨å‹•ä½œï¼ˆ62ãƒšãƒ¼ã‚¸ç”Ÿæˆã€ç´„4ç§’ï¼‰ |
| ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ | âœ… Lighthouse 100/100 |
| ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ | âœ… Lighthouse 91/100 |
| æ¤œç´¢æ©Ÿèƒ½ | âœ… é«˜æ©Ÿèƒ½ï¼ˆãƒ•ã‚£ãƒ«ã‚¿ã€ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ã€ãƒã‚¤ãƒ©ã‚¤ãƒˆï¼‰ |
| ãƒ“ãƒ«ãƒ‰ã‚µã‚¤ã‚º | 5.6MB |
| å¯¾å¿œè¨€èª | 3è¨€èªï¼ˆja, ko, enï¼‰ |

---

## ğŸ¯ Phase 2-5ã®ç›®çš„ã¨ç›®æ¨™

### Phase 2-5ã®ä¸»è¦ç›®æ¨™

**Phase 2-5**: å…±æœ‰ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æ¤œè¨¼ï¼ˆæƒ³å®šæœŸé–“: 1-2é€±é–“ï¼‰

1. **å…±æœ‰ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®é…å¸ƒå½¢æ…‹æ±ºå®š**
   - npmå…¬é–‹ vs Gitã‚µãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« vs ãƒ¢ãƒãƒ¬ãƒå†…é…å¸ƒ
   - ãƒ¡ãƒªãƒƒãƒˆãƒ»ãƒ‡ãƒ¡ãƒªãƒƒãƒˆæ¯”è¼ƒ
   - æœ€é©ãªé‹ç”¨ãƒ¢ãƒ‡ãƒ«ç¢ºç«‹

2. **ãƒ“ãƒ«ãƒ‰è¨­å®šãƒ»å‹å®šç¾©æ•´å‚™**
   - TypeScriptå‹å®šç¾©ï¼ˆ.d.tsï¼‰å‡ºåŠ›
   - ESM/CJSå¯¾å¿œæ¤œè¨
   - CSS/ã‚¢ã‚»ãƒƒãƒˆé…å¸ƒæ–¹æ³•

3. **ãƒªãƒªãƒ¼ã‚¹ãƒ•ãƒ­ãƒ¼è¨­è¨ˆ**
   - ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°æˆ¦ç•¥ï¼ˆSemVerï¼‰
   - CHANGELOGç®¡ç†
   - è‡ªå‹•ãƒªãƒªãƒ¼ã‚¹ãƒ—ãƒ­ã‚»ã‚¹

4. **äº’æ›æ€§æ¤œè¨¼**
   - å¤–éƒ¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã®åˆ©ç”¨ãƒ†ã‚¹ãƒˆ
   - Breaking Changeæ¤œå‡º
   - ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚¬ã‚¤ãƒ‰ä½œæˆ

---

## ğŸ“‚ ç¾åœ¨ã®å…±æœ‰ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æ§‹æˆ

### ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ä¸€è¦§

```
packages/
â”œâ”€â”€ ui/              # UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆAstroã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé›†ï¼‰
â”œâ”€â”€ theme/           # ãƒ†ãƒ¼ãƒã‚·ã‚¹ãƒ†ãƒ ï¼ˆCSSå¤‰æ•°ã€ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆï¼‰
â”œâ”€â”€ i18n/            # å›½éš›åŒ–ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”œâ”€â”€ versioning/      # ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”œâ”€â”€ generator/       # ãƒ¬ã‚¸ã‚¹ãƒˆãƒªé§†å‹•ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼
â”œâ”€â”€ runtime/         # Astroãƒ©ãƒ³ã‚¿ã‚¤ãƒ ï¼ˆPhase 2ã®ä¸»æˆæœç‰©ï¼‰
â”œâ”€â”€ cli/             # CLIãƒ„ãƒ¼ãƒ«
â””â”€â”€ validator/       # ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ„ãƒ¼ãƒ«
```

### å„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ç¾çŠ¶

#### 1. @docs/ui

**ç¾åœ¨ã®çŠ¶æ…‹**:
```json
{
  "name": "@docs/ui",
  "version": "0.1.0",
  "private": true,
  "type": "module",
  "exports": {
    ".": "./src/index.ts",
    "./components": "./src/components/index.ts"
  },
  "dependencies": {
    "astro": "^5.7.12"
  }
}
```

**ç‰¹å¾´**:
- Astroã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆ.astroãƒ•ã‚¡ã‚¤ãƒ«ï¼‰é›†
- TypeScriptã‚½ãƒ¼ã‚¹ã‚’ç›´æ¥ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
- ãƒ“ãƒ«ãƒ‰æˆæœç‰©ãªã—ï¼ˆã‚½ãƒ¼ã‚¹é…å¸ƒï¼‰

**Phase 2-4ã§ã®ä½¿ç”¨çŠ¶æ³**:
- âœ… runtimeãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ä½¿ç”¨ä¸­
- âœ… å‹•ä½œç¢ºèªæ¸ˆã¿
- âš ï¸ ãƒ“ãƒ«ãƒ‰ãƒ»å‹å®šç¾©ãªã—

#### 2. @docs/theme

**ç¾åœ¨ã®çŠ¶æ…‹**:
```json
{
  "name": "@docs/theme",
  "version": "0.1.0",
  "private": true,
  "type": "module",
  "exports": {
    ".": "./src/index.ts",
    "./colors": "./src/colors.ts",
    "./typography": "./src/typography.ts",
    "./spacing": "./src/spacing.ts",
    "./css": "./src/css/index.ts",
    "./css/variables.css": "./src/css/variables.css",
    "./css/base.css": "./src/css/base.css"
  }
}
```

**ç‰¹å¾´**:
- CSSå¤‰æ•°å®šç¾©
- TypeScriptã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆå®šç¾©
- ãƒ‡ã‚¶ã‚¤ãƒ³ãƒˆãƒ¼ã‚¯ãƒ³

**Phase 2-4ã§ã®ä½¿ç”¨çŠ¶æ³**:
- âœ… BaseLayout.astroã§ä½¿ç”¨ä¸­
- âœ… CSSå¤‰æ•°ã¨ã—ã¦å‹•ä½œç¢ºèªæ¸ˆã¿
- âš ï¸ CSSé…å¸ƒæ–¹æ³•æœªç¢ºå®š

#### 3. @docs/i18n

**ç¾åœ¨ã®çŠ¶æ…‹**:
```json
{
  "name": "@docs/i18n",
  "version": "0.1.0",
  "private": true,
  "type": "module"
}
```

**ç‰¹å¾´**:
- è¨€èªãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
- ç¿»è¨³ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°

**Phase 2-4ã§ã®ä½¿ç”¨çŠ¶æ³**:
- âš ï¸ ä½¿ç”¨é »åº¦ä½
- ğŸ” æ©Ÿèƒ½æ•´ç†ãŒå¿…è¦

#### 4. @docs/versioning

**ç¾åœ¨ã®çŠ¶æ…‹**:
```json
{
  "name": "@docs/versioning",
  "version": "0.1.0",
  "private": true,
  "type": "module"
}
```

**ç‰¹å¾´**:
- ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£

**Phase 2-4ã§ã®ä½¿ç”¨çŠ¶æ³**:
- âœ… VersionSelectorã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ä½¿ç”¨
- âš ï¸ generatorãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨æ©Ÿèƒ½é‡è¤‡ã®å¯èƒ½æ€§

#### 5. @docs/generator

**ç¾åœ¨ã®çŠ¶æ…‹**:
```json
{
  "name": "@docs/generator",
  "version": "0.1.0",
  "private": true,
  "type": "module"
}
```

**ç‰¹å¾´**:
- ãƒ¬ã‚¸ã‚¹ãƒˆãƒªé§†å‹•ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ç”Ÿæˆ
- ã‚µã‚¤ãƒ‰ãƒãƒ¼ç”Ÿæˆ
- ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ

**Phase 2-4ã§ã®ä½¿ç”¨çŠ¶æ³**:
- âœ… runtimeãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚³ã‚¢æ©Ÿèƒ½
- âœ… é«˜é »åº¦ä½¿ç”¨
- âš ï¸ å‹å®šç¾©ãŒé‡è¦

---

## ğŸ”§ Phase 2-5ã‚¿ã‚¹ã‚¯è©³ç´°

### ã‚¿ã‚¹ã‚¯1: ãƒ“ãƒ«ãƒ‰è¨­å®šãƒ»å‹å®šç¾©æ•´å‚™ï¼ˆ2-3æ—¥ï¼‰

#### ç›®çš„
å„å…±æœ‰ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ãƒ“ãƒ«ãƒ‰ã—ã€TypeScriptå‹å®šç¾©ã‚’å‡ºåŠ›ã™ã‚‹ã€‚

#### å®Ÿè£…æ‰‹é †

##### 1-1. ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«ã®é¸å®š

**æ¨å¥¨**: `tsup`ï¼ˆé«˜é€Ÿãƒ»ã‚·ãƒ³ãƒ—ãƒ«ï¼‰

**ä»£æ›¿æ¡ˆ**:
- Rollupï¼ˆç´°ã‹ã„åˆ¶å¾¡ãŒå¿…è¦ãªå ´åˆï¼‰
- tscï¼ˆå‹å®šç¾©ã®ã¿ã®å ´åˆï¼‰

**é¸å®šç†ç”±**:
- TypeScriptå°‚ç”¨ã§è¨­å®šãŒç°¡å˜
- ESM/CJSä¸¡å¯¾å¿œ
- å‹å®šç¾©è‡ªå‹•ç”Ÿæˆ
- é«˜é€Ÿãƒ“ãƒ«ãƒ‰

##### 1-2. @docs/generator ã®ãƒ“ãƒ«ãƒ‰è¨­å®š

**packages/generator/tsup.config.ts**:

```typescript
import { defineConfig } from 'tsup';

export default defineConfig({
  entry: ['src/index.ts'],
  format: ['esm', 'cjs'],
  dts: true,  // å‹å®šç¾©ç”Ÿæˆ
  clean: true,
  sourcemap: true,
  minify: false,  // ãƒ‡ãƒãƒƒã‚°å®¹æ˜“æ€§ã®ãŸã‚ç„¡åŠ¹
  splitting: false,
  treeshake: true,
  outDir: 'dist'
});
```

**package.jsonæ›´æ–°**:

```json
{
  "name": "@docs/generator",
  "version": "0.1.0",
  "type": "module",
  "main": "./dist/index.cjs",
  "module": "./dist/index.js",
  "types": "./dist/index.d.ts",
  "exports": {
    ".": {
      "types": "./dist/index.d.ts",
      "import": "./dist/index.js",
      "require": "./dist/index.cjs"
    }
  },
  "files": [
    "dist",
    "README.md"
  ],
  "scripts": {
    "build": "tsup",
    "dev": "tsup --watch",
    "prepublishOnly": "pnpm build"
  },
  "devDependencies": {
    "tsup": "^8.0.0",
    "typescript": "^5.8.3"
  }
}
```

##### 1-3. @docs/ui ã®ãƒ“ãƒ«ãƒ‰è¨­å®š

**æ³¨æ„**: Astroã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆ.astroï¼‰ã¯ãƒ“ãƒ«ãƒ‰ä¸è¦

**æ¨å¥¨ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**: ã‚½ãƒ¼ã‚¹é…å¸ƒ

**package.json**:

```json
{
  "name": "@docs/ui",
  "version": "0.1.0",
  "type": "module",
  "exports": {
    ".": "./src/index.ts",
    "./components": "./src/components/index.ts",
    "./components/*": "./src/components/*.astro"
  },
  "files": [
    "src",
    "README.md"
  ],
  "peerDependencies": {
    "astro": "^5.0.0"
  },
  "devDependencies": {
    "astro": "^5.7.12",
    "typescript": "^5.8.3"
  }
}
```

**å‹å®šç¾©ã®ã¿ç”Ÿæˆ**:

```bash
tsc --emitDeclarationOnly --declaration --outDir dist
```

##### 1-4. @docs/theme ã®ãƒ“ãƒ«ãƒ‰è¨­å®š

**CSSé…å¸ƒ**: ãã®ã¾ã¾é…å¸ƒ

**package.json**:

```json
{
  "name": "@docs/theme",
  "version": "0.1.0",
  "type": "module",
  "exports": {
    ".": "./dist/index.js",
    "./colors": "./dist/colors.js",
    "./css/variables.css": "./src/css/variables.css",
    "./css/base.css": "./src/css/base.css"
  },
  "files": [
    "dist",
    "src/css",
    "README.md"
  ],
  "scripts": {
    "build": "tsup"
  }
}
```

##### 1-5. ãƒ“ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆ

```bash
# å„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ãƒ“ãƒ«ãƒ‰å®Ÿè¡Œ
cd packages/generator && pnpm build
cd packages/theme && pnpm build

# å‹å®šç¾©ç¢ºèª
ls -la packages/generator/dist/*.d.ts

# runtimeãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ãƒ“ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆ
cd packages/runtime && pnpm build
```

#### æˆæœç‰©
- âœ… å„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®`dist/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
- âœ… å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ.d.tsï¼‰
- âœ… ESM/CJSä¸¡å¯¾å¿œã®ãƒ“ãƒ«ãƒ‰æˆæœç‰©

---

### ã‚¿ã‚¹ã‚¯2: ä¾å­˜é–¢ä¿‚ãƒã‚§ãƒƒã‚¯ãƒ»æœ€é©åŒ–ï¼ˆ1æ—¥ï¼‰

#### ç›®çš„
å„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ä¾å­˜é–¢ä¿‚ã‚’è¦‹ç›´ã—ã€æœ€å°é™ã«ã™ã‚‹ã€‚

#### ãƒã‚§ãƒƒã‚¯é …ç›®

##### 2-1. peerDependencies vs dependencies

**åŸå‰‡**:
- **peerDependencies**: Astroã€Reactç­‰ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- **dependencies**: ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- **devDependencies**: ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ†ã‚¹ãƒˆãƒ„ãƒ¼ãƒ«

**ä¾‹ï¼ˆ@docs/uiï¼‰**:

```json
{
  "peerDependencies": {
    "astro": "^5.0.0"
  },
  "devDependencies": {
    "astro": "^5.7.12",
    "typescript": "^5.8.3"
  }
}
```

##### 2-2. ä¸è¦ãªä¾å­˜é–¢ä¿‚ã®å‰Šé™¤

```bash
# å„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ä¾å­˜é–¢ä¿‚ã‚’ç¢ºèª
pnpm list --depth=0 --filter=@docs/ui
pnpm list --depth=0 --filter=@docs/generator
pnpm list --depth=0 --filter=@docs/theme

# æœªä½¿ç”¨ã®ä¾å­˜é–¢ä¿‚ã‚’æ¤œå‡º
pnpm why <package-name>
```

##### 2-3. ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¯„å›²ã®çµ±ä¸€

**æ¨å¥¨**:
- ãƒ¡ã‚¸ãƒ£ãƒ¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯`^`ï¼ˆSemVeräº’æ›ï¼‰
- Astroç­‰ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯`^5.0.0`ï¼ˆåºƒã‚ã®ç¯„å›²ï¼‰

#### æˆæœç‰©
- âœ… æœ€é©åŒ–ã•ã‚ŒãŸå„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®`package.json`
- âœ… ä¾å­˜é–¢ä¿‚ãƒã‚§ãƒƒã‚¯ãƒ¬ãƒãƒ¼ãƒˆ

---

### ã‚¿ã‚¹ã‚¯3: ãƒªãƒªãƒ¼ã‚¹ãƒ•ãƒ­ãƒ¼è¨­è¨ˆï¼ˆ2-3æ—¥ï¼‰

#### ç›®çš„
ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°æˆ¦ç•¥ã¨ãƒªãƒªãƒ¼ã‚¹ãƒ—ãƒ­ã‚»ã‚¹ã‚’ç¢ºç«‹ã™ã‚‹ã€‚

#### 3-1. ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°æˆ¦ç•¥

**SemVerï¼ˆã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ï¼‰æ¡ç”¨**:

- **MAJOR (1.0.0)**: Breaking Changes
- **MINOR (0.1.0)**: æ–°æ©Ÿèƒ½è¿½åŠ ï¼ˆå¾Œæ–¹äº’æ›ï¼‰
- **PATCH (0.0.1)**: ãƒã‚°ãƒ•ã‚£ãƒƒã‚¯ã‚¹

**ä¾‹**:
```
0.1.0 â†’ åˆæœŸãƒªãƒªãƒ¼ã‚¹
0.2.0 â†’ æ–°æ©Ÿèƒ½è¿½åŠ 
0.2.1 â†’ ãƒã‚°ãƒ•ã‚£ãƒƒã‚¯ã‚¹
1.0.0 â†’ å®‰å®šç‰ˆãƒªãƒªãƒ¼ã‚¹
```

#### 3-2. CHANGELOGç®¡ç†

**æ¨å¥¨**: Conventional Commits + Changesets

**ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**:

```bash
pnpm add -D -w @changesets/cli
pnpm changeset init
```

**.changeset/config.json**:

```json
{
  "$schema": "https://unpkg.com/@changesets/config@2.3.0/schema.json",
  "changelog": "@changesets/cli/changelog",
  "commit": false,
  "fixed": [],
  "linked": [
    ["@docs/ui", "@docs/theme", "@docs/generator", "@docs/i18n", "@docs/versioning"]
  ],
  "access": "public",
  "baseBranch": "main",
  "updateInternalDependencies": "patch",
  "ignore": ["@docs/runtime", "@docs/cli"]
}
```

#### 3-3. ãƒªãƒªãƒ¼ã‚¹ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

**package.jsonï¼ˆãƒ«ãƒ¼ãƒˆï¼‰**:

```json
{
  "scripts": {
    "changeset": "changeset",
    "version": "changeset version",
    "release": "pnpm build && changeset publish"
  }
}
```

**ä½¿ç”¨æ–¹æ³•**:

```bash
# 1. å¤‰æ›´å†…å®¹ã‚’è¨˜éŒ²
pnpm changeset
# â†’ ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸é¸æŠã€å¤‰æ›´ã‚¿ã‚¤ãƒ—é¸æŠã€èª¬æ˜å…¥åŠ›

# 2. ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ›´æ–°
pnpm version
# â†’ package.jsonã¨CHANGELOG.mdãŒè‡ªå‹•æ›´æ–°

# 3. npmå…¬é–‹
pnpm release
# â†’ ãƒ“ãƒ«ãƒ‰â†’å…¬é–‹
```

#### 3-4. GitHub Actionsè‡ªå‹•ãƒªãƒªãƒ¼ã‚¹

**.github/workflows/release.yml**:

```yaml
name: Release

on:
  push:
    branches:
      - main

concurrency: ${{ github.workflow }}-${{ github.ref }}

jobs:
  release:
    name: Release
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Setup pnpm
        uses: pnpm/action-setup@v2
        with:
          version: 10

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: 20
          cache: 'pnpm'

      - name: Install dependencies
        run: pnpm install --frozen-lockfile

      - name: Build
        run: pnpm build

      - name: Create Release Pull Request or Publish
        id: changesets
        uses: changesets/action@v1
        with:
          publish: pnpm release
          commit: 'chore: release packages'
          title: 'chore: release packages'
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          NPM_TOKEN: ${{ secrets.NPM_TOKEN }}
```

#### æˆæœç‰©
- âœ… Changesetsè¨­å®š
- âœ… ãƒªãƒªãƒ¼ã‚¹ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
- âœ… GitHub Actionsè¨­å®š
- âœ… ãƒªãƒªãƒ¼ã‚¹ãƒ•ãƒ­ãƒ¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

---

### ã‚¿ã‚¹ã‚¯4: npm vs Gitã‚µãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ¯”è¼ƒï¼ˆ1-2æ—¥ï¼‰

#### ç›®çš„
é…å¸ƒå½¢æ…‹ã®ãƒ¡ãƒªãƒƒãƒˆãƒ»ãƒ‡ãƒ¡ãƒªãƒƒãƒˆã‚’æ¯”è¼ƒã—ã€æœ€é©ãªæ–¹æ³•ã‚’æ±ºå®šã™ã‚‹ã€‚

#### 4-1. æ¯”è¼ƒè¡¨

| é …ç›® | npmå…¬é–‹ | Gitã‚µãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« | ãƒ¢ãƒãƒ¬ãƒå†…é…å¸ƒ |
|------|---------|-------------------|----------------|
| **é…å¸ƒã®å®¹æ˜“æ€§** | âœ… éå¸¸ã«ç°¡å˜<br>`npm install @docs/ui` | âš ï¸ ã‚„ã‚„è¤‡é›‘<br>`git submodule add` | âœ… ç°¡å˜<br>pnpm workspace |
| **ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†** | âœ… SemVerã§æ˜ç¢º | âš ï¸ Git commitãƒ™ãƒ¼ã‚¹ | âœ… workspace:*ã§ç®¡ç† |
| **æ›´æ–°é€šçŸ¥** | âœ… npm outdatedã§ç¢ºèªå¯èƒ½ | âŒ æ‰‹å‹•ç¢ºèªå¿…è¦ | âœ… pnpm updateã§ä¸€æ‹¬ |
| **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£** | âš ï¸ npmå…¬é–‹ãƒªã‚¹ã‚¯ | âœ… ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆç®¡ç† | âœ… ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆç®¡ç† |
| **CI/CDçµ±åˆ** | âœ… ç°¡å˜ | âš ï¸ ã‚µãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ›´æ–°å¿…è¦ | âœ… ç°¡å˜ |
| **å¤–éƒ¨åˆ©ç”¨** | âœ… å¯èƒ½ | âš ï¸ åˆ¶é™çš„ | âŒ ä¸å¯èƒ½ |
| **é–‹ç™ºé€Ÿåº¦** | âš ï¸ ãƒªãƒªãƒ¼ã‚¹å¾…ã¡ | âœ… å³åº§ã«åæ˜  | âœ… å³åº§ã«åæ˜  |
| **ä¾å­˜é–¢ä¿‚è§£æ±º** | âœ… npmè‡ªå‹•è§£æ±º | âš ï¸ æ‰‹å‹•ç®¡ç† | âœ… pnpmè‡ªå‹•è§£æ±º |
| **ãƒ“ãƒ«ãƒ‰æˆæœç‰©** | âœ… å¿…è¦ï¼ˆdist/ï¼‰ | âš ï¸ ã‚½ãƒ¼ã‚¹é…å¸ƒå¯ | âš ï¸ ã‚½ãƒ¼ã‚¹é…å¸ƒå¯ |
| **å‹å®šç¾©** | âœ… .d.tsãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ³ã‚° | âœ… ã‚½ãƒ¼ã‚¹ã‹ã‚‰ç›´æ¥ | âœ… ã‚½ãƒ¼ã‚¹ã‹ã‚‰ç›´æ¥ |

#### 4-2. æ¨å¥¨æˆ¦ç•¥

**æ®µéšçš„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**:

1. **Phase 2-5ï¼ˆç¾åœ¨ï¼‰**: ãƒ¢ãƒãƒ¬ãƒå†…é…å¸ƒç¶™ç¶š
   - é–‹ç™ºé€Ÿåº¦æœ€å„ªå…ˆ
   - ãƒ“ãƒ«ãƒ‰è¨­å®šãƒ»å‹å®šç¾©æ•´å‚™

2. **Phase 3**: npmå…¬é–‹æº–å‚™
   - ã‚¹ã‚³ãƒ¼ãƒ—ä»˜ããƒ‘ãƒƒã‚±ãƒ¼ã‚¸ï¼ˆ@docs/*ï¼‰
   - å†…éƒ¨åˆ©ç”¨ã®ã¿ï¼ˆprivate: falseã€ä½†ã—ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæœªå…¬é–‹ï¼‰

3. **Phase 4-5**: npmå…¬é–‹ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
   - å¤–éƒ¨åˆ©ç”¨ã‚’æƒ³å®šã™ã‚‹å ´åˆã®ã¿
   - ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ»ã‚µãƒ³ãƒ—ãƒ«æ•´å‚™

**åˆ¤æ–­åŸºæº–**:

```
å¤–éƒ¨åˆ©ç”¨ã‚’æƒ³å®šã™ã‚‹å ´åˆ:
â†’ npmå…¬é–‹ + Changesets + è‡ªå‹•ãƒªãƒªãƒ¼ã‚¹

å†…éƒ¨åˆ©ç”¨ã®ã¿ã®å ´åˆ:
â†’ ãƒ¢ãƒãƒ¬ãƒå†…é…å¸ƒç¶™ç¶šï¼ˆpnpm workspaceï¼‰
```

#### æˆæœç‰©
- âœ… æ¯”è¼ƒè¡¨ï¼ˆä¸Šè¨˜ï¼‰
- âœ… é…å¸ƒæˆ¦ç•¥æ±ºå®šãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- âœ… DECISIONS.mdã¸ã®è¨˜éŒ²

---

### ã‚¿ã‚¹ã‚¯5: äº’æ›æ€§æ¤œè¨¼ï¼ˆ2-3æ—¥ï¼‰

#### ç›®çš„
å„é…å¸ƒæ–¹æ³•ã§å®Ÿéš›ã«å‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚

#### 5-1. ãƒ†ã‚¹ãƒˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆ

**test-projects/npm-usage/**:

```bash
mkdir -p test-projects/npm-usage
cd test-projects/npm-usage
npm init -y
npm install ../../packages/generator
```

**test-projects/npm-usage/test.js**:

```javascript
import { loadRegistry, generateRoutes } from '@docs/generator';

const registry = loadRegistry('../../registry/docs.json');
const routes = generateRoutes(registry);

console.log('Routes generated:', routes.length);
```

#### 5-2. ãƒ“ãƒ«ãƒ‰æˆæœç‰©ãƒ†ã‚¹ãƒˆ

```bash
# generatorãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ãƒ“ãƒ«ãƒ‰
cd packages/generator
pnpm build

# distã‹ã‚‰èª­ã¿è¾¼ã¿ãƒ†ã‚¹ãƒˆ
node -e "const { loadRegistry } = require('./dist/index.cjs'); console.log(loadRegistry);"
```

#### 5-3. å‹å®šç¾©ãƒ†ã‚¹ãƒˆ

**test-projects/types-test/test.ts**:

```typescript
import { Registry, Route, SidebarItem } from '@docs/generator';

const registry: Registry = {
  projects: {},
  documents: {},
  categories: {}
};

// å‹ãƒã‚§ãƒƒã‚¯ãŒé€šã‚‹ã“ã¨ã‚’ç¢ºèª
```

```bash
npx tsc --noEmit test.ts
```

#### 5-4. runtimeãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ã®çµ±åˆãƒ†ã‚¹ãƒˆ

```bash
# generatorãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰æˆæœç‰©ã‚’ä½¿ç”¨ã—ã¦runtimeã‚’ãƒ“ãƒ«ãƒ‰
cd packages/runtime
pnpm build

# ãƒ“ãƒ«ãƒ‰æˆåŠŸ + Lighthouseãƒ†ã‚¹ãƒˆ
pnpm preview &
node test-lighthouse.js
```

**æˆåŠŸåŸºæº–**:
- âœ… ãƒ“ãƒ«ãƒ‰æˆåŠŸ
- âœ… Lighthouseã‚¹ã‚³ã‚¢ç¶­æŒï¼ˆPerformance 100, Accessibility 91ä»¥ä¸Šï¼‰
- âœ… å‹ã‚¨ãƒ©ãƒ¼ãªã—

#### æˆæœç‰©
- âœ… ãƒ†ã‚¹ãƒˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆtest-projects/ï¼‰
- âœ… äº’æ›æ€§æ¤œè¨¼ãƒ¬ãƒãƒ¼ãƒˆ
- âœ… Breaking Changeä¸€è¦§

---

### ã‚¿ã‚¹ã‚¯6: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ»ãƒ©ã‚¤ã‚»ãƒ³ã‚¹æ•´å‚™ï¼ˆ1-2æ—¥ï¼‰

#### ç›®çš„
å…±æœ‰ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®åˆ©ç”¨æ–¹æ³•ã¨ãƒ©ã‚¤ã‚»ãƒ³ã‚¹æƒ…å ±ã‚’æ•´å‚™ã™ã‚‹ã€‚

#### 6-1. å…±æœ‰ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åˆ©ç”¨ã‚¬ã‚¤ãƒ‰

**docs/new-generator-plan/guides/shared-packages.md**:

```markdown
# å…±æœ‰ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åˆ©ç”¨ã‚¬ã‚¤ãƒ‰

## ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ä¸€è¦§

### @docs/generator
ãƒ¬ã‚¸ã‚¹ãƒˆãƒªé§†å‹•ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ»ã‚µã‚¤ãƒ‰ãƒãƒ¼ãƒ»ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ

**ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**:
\`\`\`bash
pnpm add @docs/generator
\`\`\`

**ä½¿ç”¨ä¾‹**:
\`\`\`typescript
import { loadRegistry, generateRoutes } from '@docs/generator';

const registry = loadRegistry('registry/docs.json');
const routes = generateRoutes(registry);
\`\`\`

### @docs/ui
Astro UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé›†

**ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**:
\`\`\`bash
pnpm add @docs/ui
\`\`\`

**ä½¿ç”¨ä¾‹**:
\`\`\`astro
---
import { Button, Card } from '@docs/ui/components';
---

<Button variant="primary">ã‚¯ãƒªãƒƒã‚¯</Button>
\`\`\`

### @docs/theme
ãƒ†ãƒ¼ãƒã‚·ã‚¹ãƒ†ãƒ ï¼ˆCSSå¤‰æ•°ã€ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆï¼‰

**ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**:
\`\`\`bash
pnpm add @docs/theme
\`\`\`

**ä½¿ç”¨ä¾‹**:
\`\`\`css
@import '@docs/theme/css/variables.css';
@import '@docs/theme/css/base.css';
\`\`\`

## ãƒªãƒªãƒ¼ã‚¹ãƒ•ãƒ­ãƒ¼

### å¤‰æ›´å†…å®¹ã®è¨˜éŒ²

\`\`\`bash
pnpm changeset
\`\`\`

### ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ›´æ–°

\`\`\`bash
pnpm version
\`\`\`

### npmå…¬é–‹

\`\`\`bash
pnpm release
\`\`\`

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### å‹å®šç¾©ãŒè¦‹ã¤ã‹ã‚‰ãªã„

\`\`\`bash
pnpm build  # dist/é…ä¸‹ã«.d.tsãŒç”Ÿæˆã•ã‚Œã‚‹
\`\`\`
```

#### 6-2. å„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®README.md

**packages/generator/README.md**:

```markdown
# @docs/generator

ãƒ¬ã‚¸ã‚¹ãƒˆãƒªé§†å‹•ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚µã‚¤ãƒˆç”Ÿæˆãƒ©ã‚¤ãƒ–ãƒ©ãƒª

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

\`\`\`bash
pnpm add @docs/generator
\`\`\`

## ä½¿ç”¨æ–¹æ³•

### ãƒ¬ã‚¸ã‚¹ãƒˆãƒªèª­ã¿è¾¼ã¿

\`\`\`typescript
import { loadRegistry } from '@docs/generator';

const registry = loadRegistry('registry/docs.json');
\`\`\`

### ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ç”Ÿæˆ

\`\`\`typescript
import { generateRoutes } from '@docs/generator';

const routes = generateRoutes(registry, {
  env: 'production',
  debug: false
});
\`\`\`

### ã‚µã‚¤ãƒ‰ãƒãƒ¼ç”Ÿæˆ

\`\`\`typescript
import { generateSidebar } from '@docs/generator';

const sidebar = generateSidebar(registry, 'sample-docs', 'v2', 'ja');
\`\`\`

## API

è©³ç´°ã¯[API Documentation](./docs/api.md)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License
\`\`\`

#### 6-3. ãƒ©ã‚¤ã‚»ãƒ³ã‚¹æƒ…å ±æ•´ç†

**å„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®package.json**:

```json
{
  "license": "MIT",
  "repository": {
    "type": "git",
    "url": "https://github.com/dolphilia/libx-dev.git",
    "directory": "packages/generator"
  },
  "bugs": {
    "url": "https://github.com/dolphilia/libx-dev/issues"
  },
  "homepage": "https://github.com/dolphilia/libx-dev#readme"
}
```

**LICENSEãƒ•ã‚¡ã‚¤ãƒ«**ï¼ˆå„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ï¼‰:

```
MIT License

Copyright (c) 2025 libx-dev contributors

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction...
```

#### æˆæœç‰©
- âœ… `docs/new-generator-plan/guides/shared-packages.md`
- âœ… å„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®`README.md`
- âœ… å„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®`LICENSE`
- âœ… `package.json`ã®ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ãƒ»ãƒªãƒã‚¸ãƒˆãƒªæƒ…å ±

---

## ğŸ“‹ Phase 2-5ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### ã‚¿ã‚¹ã‚¯1: ãƒ“ãƒ«ãƒ‰è¨­å®šãƒ»å‹å®šç¾©æ•´å‚™
- [ ] tsupè¨­å®šä½œæˆï¼ˆgeneratorã€themeï¼‰
- [ ] package.jsonæ›´æ–°ï¼ˆexportsã€typesã€filesï¼‰
- [ ] ãƒ“ãƒ«ãƒ‰å®Ÿè¡Œãƒ»å‹å®šç¾©ç¢ºèª
- [ ] runtimeãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ã®ãƒ“ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆ

### ã‚¿ã‚¹ã‚¯2: ä¾å­˜é–¢ä¿‚ãƒã‚§ãƒƒã‚¯ãƒ»æœ€é©åŒ–
- [ ] peerDependencies/dependenciesæ•´ç†
- [ ] ä¸è¦ãªä¾å­˜é–¢ä¿‚å‰Šé™¤
- [ ] ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¯„å›²çµ±ä¸€
- [ ] ä¾å­˜é–¢ä¿‚ãƒã‚§ãƒƒã‚¯ãƒ¬ãƒãƒ¼ãƒˆä½œæˆ

### ã‚¿ã‚¹ã‚¯3: ãƒªãƒªãƒ¼ã‚¹ãƒ•ãƒ­ãƒ¼è¨­è¨ˆ
- [ ] Changesetså°å…¥
- [ ] ãƒªãƒªãƒ¼ã‚¹ã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œæˆ
- [ ] GitHub Actionsè¨­å®š
- [ ] ãƒªãƒªãƒ¼ã‚¹ãƒ•ãƒ­ãƒ¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆ

### ã‚¿ã‚¹ã‚¯4: npm vs Gitã‚µãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ¯”è¼ƒ
- [ ] æ¯”è¼ƒè¡¨ä½œæˆ
- [ ] é…å¸ƒæˆ¦ç•¥æ±ºå®š
- [ ] DECISIONS.mdã¸è¨˜éŒ²

### ã‚¿ã‚¹ã‚¯5: äº’æ›æ€§æ¤œè¨¼
- [ ] ãƒ†ã‚¹ãƒˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
- [ ] ãƒ“ãƒ«ãƒ‰æˆæœç‰©ãƒ†ã‚¹ãƒˆ
- [ ] å‹å®šç¾©ãƒ†ã‚¹ãƒˆ
- [ ] runtimeãƒ‘ãƒƒã‚±ãƒ¼ã‚¸çµ±åˆãƒ†ã‚¹ãƒˆ
- [ ] äº’æ›æ€§æ¤œè¨¼ãƒ¬ãƒãƒ¼ãƒˆä½œæˆ

### ã‚¿ã‚¹ã‚¯6: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ»ãƒ©ã‚¤ã‚»ãƒ³ã‚¹æ•´å‚™
- [ ] å…±æœ‰ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åˆ©ç”¨ã‚¬ã‚¤ãƒ‰ä½œæˆ
- [ ] å„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸README.mdä½œæˆ
- [ ] LICENSEãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
- [ ] package.jsonãƒ©ã‚¤ã‚»ãƒ³ã‚¹æƒ…å ±è¿½åŠ 

---

## ğŸ¯ Phase 2-5æˆåŠŸåŸºæº–

### å¿…é ˆé …ç›®

1. **ãƒ“ãƒ«ãƒ‰æˆæœç‰©ç”Ÿæˆ**
   - [ ] @docs/generatorã®dist/ãŒç”Ÿæˆã•ã‚Œã‚‹
   - [ ] å‹å®šç¾©ï¼ˆ.d.tsï¼‰ãŒæ­£ã—ãç”Ÿæˆã•ã‚Œã‚‹
   - [ ] ESM/CJSä¸¡æ–¹ã®ãƒ“ãƒ«ãƒ‰ãŒæˆåŠŸã™ã‚‹

2. **äº’æ›æ€§ç¶­æŒ**
   - [ ] runtimeãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒãƒ“ãƒ«ãƒ‰æˆåŠŸã™ã‚‹
   - [ ] Lighthouseã‚¹ã‚³ã‚¢ãŒç¶­æŒã•ã‚Œã‚‹ï¼ˆPerformance 100, Accessibility 91ä»¥ä¸Šï¼‰
   - [ ] å‹ã‚¨ãƒ©ãƒ¼ãŒãªã„

3. **ãƒªãƒªãƒ¼ã‚¹ãƒ•ãƒ­ãƒ¼ç¢ºç«‹**
   - [ ] ChangesetsãŒå‹•ä½œã™ã‚‹
   - [ ] ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ›´æ–°ãŒè‡ªå‹•åŒ–ã•ã‚Œã‚‹
   - [ ] CHANGELOG.mdãŒè‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹

4. **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå®Œå‚™**
   - [ ] å…±æœ‰ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åˆ©ç”¨ã‚¬ã‚¤ãƒ‰ãŒæ•´å‚™ã•ã‚Œã¦ã„ã‚‹
   - [ ] å„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®README.mdãŒæ•´å‚™ã•ã‚Œã¦ã„ã‚‹
   - [ ] ãƒªãƒªãƒ¼ã‚¹ãƒ•ãƒ­ãƒ¼ãŒæ–‡æ›¸åŒ–ã•ã‚Œã¦ã„ã‚‹

### æ¨å¥¨é …ç›®

1. **npmå…¬é–‹æº–å‚™**ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
   - [ ] npmã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒ»çµ„ç¹”ä½œæˆ
   - [ ] GitHub Actionsè¨­å®š
   - [ ] npmå…¬é–‹ãƒ†ã‚¹ãƒˆï¼ˆdry-runï¼‰

2. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**
   - [ ] ãƒ“ãƒ«ãƒ‰æ™‚é–“ãŒè¨±å®¹ç¯„å›²ï¼ˆå„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ < 10ç§’ï¼‰
   - [ ] ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚µã‚¤ã‚ºãŒé©åˆ‡ï¼ˆ< 100KBï¼‰

---

## ğŸš€ Phase 2-5é–‹å§‹æ‰‹é †

### ã‚¹ãƒ†ãƒƒãƒ—1: Phase 2-4æˆæœç‰©ã®ç¢ºèªï¼ˆ30åˆ†ï¼‰

```bash
# ç¾åœ¨ã®ãƒ“ãƒ«ãƒ‰çŠ¶æ…‹ã‚’ç¢ºèª
cd packages/runtime
pnpm build

# Lighthouseã‚¹ã‚³ã‚¢ç¢ºèª
pnpm preview &
node test-lighthouse.js

# ç¾åœ¨ã®å…±æœ‰ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç¢ºèª
ls -la packages/
```

### ã‚¹ãƒ†ãƒƒãƒ—2: é–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆ30åˆ†ï¼‰

```bash
# æœ€æ–°ã®ã‚³ãƒ¼ãƒ‰ã‚’å–å¾—
git pull origin main

# ä¾å­˜é–¢ä¿‚ã‚’æ›´æ–°
pnpm install

# tsupã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pnpm add -D -w tsup @changesets/cli
```

### ã‚¹ãƒ†ãƒƒãƒ—3: Phase 2-5è¨ˆç”»æ›¸ã®ç¢ºèªï¼ˆ1æ™‚é–“ï¼‰

1. `docs/new-generator-plan/phase-2-5-shared-packages.md`ã‚’èª­ã‚€
2. æœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆphase-2-5-handoff.mdï¼‰ã‚’èª­ã‚€
3. ã‚¿ã‚¹ã‚¯ä¸€è¦§ã‚’ç¢ºèª
4. ä¸æ˜ç‚¹ãŒã‚ã‚Œã°ãƒãƒ¼ãƒ ã§è­°è«–

### ã‚¹ãƒ†ãƒƒãƒ—4: ã‚¿ã‚¹ã‚¯1é–‹å§‹ï¼ˆå³åº§ï¼‰

```bash
# generatorãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰è¨­å®šä½œæˆ
cd packages/generator
touch tsup.config.ts

# tsup.config.tsã‚’ç·¨é›†ï¼ˆä¸Šè¨˜ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå‚ç…§ï¼‰
# package.jsonã‚’æ›´æ–°ï¼ˆä¸Šè¨˜ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå‚ç…§ï¼‰

# ãƒ“ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆ
pnpm add -D tsup
pnpm build

# ãƒ“ãƒ«ãƒ‰æˆæœç‰©ç¢ºèª
ls -la dist/
```

---

## ğŸ“ ã‚µãƒãƒ¼ãƒˆãƒ»è³ªå•

Phase 2-5å®Ÿè£…ä¸­ã«ä¸æ˜ç‚¹ãŒã‚ã‚Œã°ã€ä»¥ä¸‹ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’å‚ç…§ã—ã¦ãã ã•ã„ï¼š

### Phase 2é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [Phase 2-4å®Œäº†å ±å‘Šæ›¸](./phase-2-4-completion-report.md)
- [Phase 2-3å®Œäº†å ±å‘Šæ›¸](./phase-2-3-completion-report.md)
- [packages/runtime/README.md](../../packages/runtime/README.md)

### å¤–éƒ¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [tsup Documentation](https://tsup.egoist.dev/)
- [Changesets Documentation](https://github.com/changesets/changesets)
- [pnpm Workspaces](https://pnpm.io/workspaces)
- [TypeScript Module Resolution](https://www.typescriptlang.org/docs/handbook/module-resolution.html)

---

## ğŸ“ Phase 2-5é€²æ—å ±å‘Š

é€±æ¬¡ã§é€²æ—ã‚’è¨˜éŒ²ã—ã¦ãã ã•ã„ï¼š

**ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ**: `docs/new-generator-plan/status/weekly/2025-W43.md`

```markdown
# Week 43 é€²æ—å ±å‘Šï¼ˆ2025-10-21ã€œ2025-10-27ï¼‰

## å®Œäº†ã—ãŸã‚¿ã‚¹ã‚¯
- [ ] ã‚¿ã‚¹ã‚¯1-1: tsupè¨­å®šä½œæˆ
- [ ] ã‚¿ã‚¹ã‚¯1-2: package.jsonæ›´æ–°

## é€²è¡Œä¸­ã®ã‚¿ã‚¹ã‚¯
- [ ] ã‚¿ã‚¹ã‚¯2: ä¾å­˜é–¢ä¿‚ãƒã‚§ãƒƒã‚¯

## ãƒ–ãƒ­ãƒƒã‚«ãƒ¼ãƒ»èª²é¡Œ
- ãªã—

## æ¬¡é€±ã®äºˆå®š
- ã‚¿ã‚¹ã‚¯3: ãƒªãƒªãƒ¼ã‚¹ãƒ•ãƒ­ãƒ¼è¨­è¨ˆé–‹å§‹
```

---

## ğŸ” é‡è¦ãªæ³¨æ„äº‹é …

### 1. Astroã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ãƒ“ãƒ«ãƒ‰ä¸è¦

**@docs/ui**ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯Astroã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆ.astroï¼‰ã‚’å«ã‚€ãŸã‚ã€ãƒ“ãƒ«ãƒ‰æˆæœç‰©ã¯ä¸è¦ã§ã™ã€‚

**ç†ç”±**:
- Astroã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ãƒ“ãƒ«ãƒ‰æ™‚ã«Astroã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã§å‡¦ç†ã•ã‚Œã‚‹
- .astroãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãã®ã¾ã¾é…å¸ƒã™ã‚‹ã®ãŒæ¨™æº–
- å‹å®šç¾©ã®ã¿ç”Ÿæˆã™ã‚Œã°ååˆ†

### 2. CSSé…å¸ƒæ–¹æ³•

**@docs/theme**ã®CSSãƒ•ã‚¡ã‚¤ãƒ«ã¯ä»¥ä¸‹ã®æ–¹æ³•ã§é…å¸ƒï¼š

```json
"exports": {
  "./css/variables.css": "./src/css/variables.css",
  "./css/base.css": "./src/css/base.css"
}
```

**ä½¿ç”¨å´**:

```astro
---
import '@docs/theme/css/variables.css';
import '@docs/theme/css/base.css';
---
```

### 3. ãƒ¢ãƒãƒ¬ãƒå†…ã§ã®é–‹ç™ºç¶™ç¶š

Phase 2-5ã§ã¯**npmå…¬é–‹ã¯å¿…é ˆã§ã¯ã‚ã‚Šã¾ã›ã‚“**ã€‚

**æ¨å¥¨ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**:
1. ãƒ¢ãƒãƒ¬ãƒå†…ã§é–‹ç™ºç¶™ç¶šï¼ˆpnpm workspaceï¼‰
2. ãƒ“ãƒ«ãƒ‰è¨­å®šãƒ»å‹å®šç¾©ã®ã¿æ•´å‚™
3. npmå…¬é–‹ã¯å¾Œç¶šãƒ•ã‚§ãƒ¼ã‚ºã§æ¤œè¨

---

## ğŸ Phase 2-4ã‹ã‚‰ã®å¼•ãç¶™ãè³‡ç”£

### åˆ©ç”¨å¯èƒ½ãªæˆæœç‰©

1. **é«˜ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãªãƒ“ãƒ«ãƒ‰ã‚·ã‚¹ãƒ†ãƒ **
   - Lighthouse Performance 100/100
   - ãƒ“ãƒ«ãƒ‰æ™‚é–“: ç´„4ç§’
   - ãƒ“ãƒ«ãƒ‰ã‚µã‚¤ã‚º: 5.6MB

2. **å®Œå…¨ãªã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å¯¾å¿œ**
   - Lighthouse Accessibility 91/100
   - WCAG 2.1æº–æ‹ 

3. **é«˜æ©Ÿèƒ½æ¤œç´¢ã‚·ã‚¹ãƒ†ãƒ **
   - ãƒ•ã‚¡ã‚»ãƒƒãƒˆæ¤œç´¢
   - ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³
   - ãƒã‚¤ãƒ©ã‚¤ãƒˆ

4. **æœ€é©åŒ–ã•ã‚ŒãŸè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«**
   - [astro.config.mjs](../../packages/runtime/astro.config.mjs)
     - ç”»åƒæœ€é©åŒ–è¨­å®š
     - ã‚³ãƒ¼ãƒ‰åˆ†å‰²æˆ¦ç•¥
     - CSSæœ€å°åŒ–è¨­å®š

5. **è‡ªå‹•ãƒ†ã‚¹ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ**
   - [test-lighthouse.js](../../packages/runtime/test-lighthouse.js)

ã“ã‚Œã‚‰ã®è³‡ç”£ã‚’**å£Šã•ãªã„ã‚ˆã†**ã«ã€å…±æœ‰ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰è¨­å®šã‚’æ•´å‚™ã—ã¦ãã ã•ã„ã€‚

---

**ä½œæˆè€…**: Claude
**ä½œæˆæ—¥**: 2025-10-19
**å¯¾è±¡ãƒ•ã‚§ãƒ¼ã‚º**: Phase 2-5
**å‰æãƒ•ã‚§ãƒ¼ã‚º**: Phase 2-4ï¼ˆå®Œäº†ï¼‰

---

ğŸ¯ **æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**: Phase 2-5è¨ˆç”»æ›¸ï¼ˆ`phase-2-5-shared-packages.md`ï¼‰ã‚’ç¢ºèªã—ã€ã‚¿ã‚¹ã‚¯1ï¼ˆãƒ“ãƒ«ãƒ‰è¨­å®šãƒ»å‹å®šç¾©æ•´å‚™ï¼‰ã‚’é–‹å§‹ã—ã¦ãã ã•ã„ã€‚
